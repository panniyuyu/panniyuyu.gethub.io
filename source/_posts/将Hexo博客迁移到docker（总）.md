title: 将Hexo博客迁移到docker中（总）
author: YyWang
date: 2020-02-13 10:20:45
tags: 容器
categories: 容器
---
博客已经运行了大半年了，马上就要到期了，我得着手把搭建的博客备份一下了，续费很贵的话我得找一个便宜的用（我就是一个抠门怪哈哈），最简单的就是做系统的镜像，这也太low了吧。当下流行的是容器技术，决定把先把博客迁移到docker中，如果要换服务器的话直接备份docker就好了呀。

难点：搭建博客的时间过去很久，没有记录，完全忘了如何搭建，不知道都需要迁移哪些文件而且我还搞了很多花里胡哨的东西，这些东西也需要保留

这个就麻烦了，相当于重新搭建Hexo的博客了，没办法谁让我之前没有记录总要还的嘛

迁移步骤分为两个阶段：

#### 第一阶段 重新搭建Hexo博客系统

* 入门docker
* 在docker容器中重新搭建Hexo博客系统并记录步骤（启动容器进行端口映射 8088:80，在公网验证）
* 根据记录的步骤编写Dockerfile，生成镜像（启动容器进行端口映射 8088:80 在公网验证）

见系列文章 *将Hexo博客迁移到docker（一）*

#### 第二阶段 迁移博客 

* 总结需要的文件
* 拷贝文件到容器中
* 修改Dockerfile
* 在公网验证
* 验证成功后，将宿主NGINX端口映射到docker容器中

最终将容器打包成tar做备份，或者将镜像提交到仓库中直接拉取即可，非常完美

见系列文章 *将Hexo博客迁移到docker（二）*

#### 究极解决方案

见系列文章 *将Hexo博客迁移到docker（究极解决方案）*

#### 展望与未来

未来可以搞到k8s上面，通过Deployment让hexo和nginx高可用，后续怎么设计一下，持续更新中

