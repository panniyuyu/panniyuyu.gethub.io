<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>YyWang&#39;s Blog</title>
  
  <subtitle>æ°¸è¿œæ²¡æ—¶é—´çš„ç‹å…ˆæ£®</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-10-11T09:50:51.228Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>YyWang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>maven-assemblyæ’ä»¶æ‰“zipåŒ…</title>
    <link href="http://yoursite.com/2019/10/11/maven-assembly%E6%8F%92%E4%BB%B6%E6%89%93zip%E5%8C%85/"/>
    <id>http://yoursite.com/2019/10/11/maven-assemblyæ’ä»¶æ‰“zipåŒ…/</id>
    <published>2019-10-11T09:50:37.000Z</published>
    <updated>2019-10-11T09:50:51.228Z</updated>
    
    <content type="html"><![CDATA[<p>webå·¥ç¨‹é€šè¿‡mavenæ‰“åŒ…é€šå¸¸éƒ½æ˜¯waråŒ…ï¼ŒTomcatä¼šè‡ªåŠ¨å°†waråŒ…è§£å‹å¹¶å‘å¸ƒå‡ºæ¥ï¼Œä½†å¦‚æœæœ¬èº«åšçš„ä¸æ˜¯webå·¥ç¨‹ï¼Œæ˜¯æ™®é€šjavaé¡¹ç›®å¦‚ä½•å‘å¸ƒåˆ°æœåŠ¡å™¨ä¸Šå¹¶è¿è¡Œmainæ–¹æ³•å‘¢ï¼Ÿå…¬å¸é‡Œä½¿ç”¨maven-assemblyè¿™ä¸ªæ’ä»¶ï¼Œå°†é¡¹ç›®æ‰“åŒ…æˆzipå‹ç¼©åŒ…ï¼Œé‡Œé¢åŒ…å«binã€confå’Œlibä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼Œbinç›®å½•ä¸­ä¿å­˜å¯åŠ¨å’Œåœæ­¢çš„shellè„šæœ¬ï¼Œconfä¸­ä¿å­˜é…ç½®æ–‡ä»¶ï¼Œlibç›®å½•ä¸­ä¿å­˜ç¼–è¯‘å¥½çš„jarå’Œæ‰€ä¾èµ–çš„jarï¼›ç„¶åå°†zipåŒ…æŠ½å–å¹¶è§£å‹åˆ°æœåŠ¡å™¨å¯åŠ¨start.shè„šæœ¬æ¥è¿è¡Œjavaé¡¹ç›®ã€‚</p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å°±ç”¨åˆ°äº†maven-assemblyè¿™ä¸ªæ’ä»¶æ¥è¿›è¡Œç¼–è¯‘å¹¶æ‰“åŒ…ï¼Œæ­¥éª¤å¦‚ä¸‹</p><p>ç›®å½•ç»“æ„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">main</span><br><span class="line">  |--assembly</span><br><span class="line">         |----bin</span><br><span class="line">               |---start.sh</span><br><span class="line">               |---stop.sh</span><br><span class="line">               |---jvm.properties</span><br><span class="line">         |----assembly.xml</span><br></pre></td></tr></table></figure><ul><li><ol><li>pomä¸­é…ç½®assemblyæ’ä»¶</li></ol></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;plugin&gt;</span><br><span class="line">&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;3.1.0&lt;/version&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;!--æ‰“åŒ…è§„åˆ™çš„é…ç½®--&gt;</span><br><span class="line">&lt;descriptors&gt;</span><br><span class="line">&lt;descriptor&gt;src/main/assembly/assembly.xml&lt;/descriptor&gt;</span><br><span class="line">&lt;/descriptors&gt;</span><br><span class="line">&lt;tarLongFileMode&gt;posix&lt;/tarLongFileMode&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line">&lt;executions&gt;</span><br><span class="line">&lt;execution&gt;</span><br><span class="line">&lt;id&gt;make-assembly&lt;/id&gt;</span><br><span class="line">&lt;phase&gt;package&lt;/phase&gt;</span><br><span class="line">&lt;goals&gt;</span><br><span class="line">&lt;goal&gt;single&lt;/goal&gt;</span><br><span class="line">&lt;/goals&gt;</span><br><span class="line">&lt;/execution&gt;</span><br><span class="line">&lt;/executions&gt;</span><br><span class="line">&lt;/plugin&gt;</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šä½¿ç”¨assemblyæ’ä»¶ç¼–è¯‘è¦è®²è¯¥æ’ä»¶çš„é…ç½®æ”¾åœ¨pluginsæ ‡ç­¾ä¸­çš„ç¬¬ä¸€ä¸ªï¼Œåœ¨æˆ‘çš„å·¥ç¨‹ä¸­å¼€å§‹åœ¨å‰é¢çš„æ—¶spring-boot-maven-pluginæ’ä»¶å¯¼è‡´ç¼–è¯‘å¤±è´¥äº†</p><ul><li>2.åˆ›å»ºå¹¶é…ç½®assembly.xmlæ–‡ä»¶</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;assembly&gt;</span><br><span class="line"></span><br><span class="line">    &lt;id&gt;assembly&lt;/id&gt;</span><br><span class="line"></span><br><span class="line">    &lt;formats&gt;</span><br><span class="line">        &lt;format&gt;zip&lt;/format&gt;</span><br><span class="line">        &lt;format&gt;dir&lt;/format&gt;</span><br><span class="line">    &lt;/formats&gt;</span><br><span class="line"></span><br><span class="line">    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--è¾“å‡ºæ–‡ä»¶çš„é…ç½®  3ä¸ªå±æ€§åˆ†åˆ«æ˜¯ ç¼–è¯‘è·¯å¾„ è¾“å‡ºè·¯å¾„ æ–‡ä»¶æƒé™--&gt;</span><br><span class="line">    &lt;fileSets&gt;</span><br><span class="line">        &lt;fileSet&gt;</span><br><span class="line">            &lt;directory&gt;src/main/resources&lt;/directory&gt;</span><br><span class="line">            &lt;outputDirectory&gt;conf&lt;/outputDirectory&gt;</span><br><span class="line">            &lt;fileMode&gt;0644&lt;/fileMode&gt;</span><br><span class="line">        &lt;/fileSet&gt;</span><br><span class="line">        &lt;fileSet&gt;</span><br><span class="line">            &lt;directory&gt;src/main/assembly/bin&lt;/directory&gt;</span><br><span class="line">            &lt;outputDirectory&gt;bin&lt;/outputDirectory&gt;</span><br><span class="line">            &lt;includes&gt;</span><br><span class="line">                &lt;include&gt;start.sh&lt;/include&gt;</span><br><span class="line">                &lt;include&gt;stop.sh&lt;/include&gt;</span><br><span class="line">            &lt;/includes&gt;</span><br><span class="line">            &lt;fileMode&gt;0755&lt;/fileMode&gt;</span><br><span class="line">        &lt;/fileSet&gt;</span><br><span class="line">        &lt;fileSet&gt;</span><br><span class="line">            &lt;directory&gt;src/main/assembly/bin&lt;/directory&gt;</span><br><span class="line">            &lt;outputDirectory&gt;bin&lt;/outputDirectory&gt;</span><br><span class="line">            &lt;includes&gt;</span><br><span class="line">                &lt;include&gt;jvm.properties&lt;/include&gt;</span><br><span class="line">            &lt;/includes&gt;</span><br><span class="line">            &lt;filtered&gt;true&lt;/filtered&gt;</span><br><span class="line">            &lt;fileMode&gt;0644&lt;/fileMode&gt;</span><br><span class="line">        &lt;/fileSet&gt;</span><br><span class="line">    &lt;/fileSets&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependencySets&gt;</span><br><span class="line">        &lt;dependencySet&gt;</span><br><span class="line">            &lt;outputDirectory&gt;lib&lt;/outputDirectory&gt;</span><br><span class="line">        &lt;/dependencySet&gt;</span><br><span class="line">    &lt;/dependencySets&gt;</span><br><span class="line"></span><br><span class="line">&lt;/assembly&gt;</span><br></pre></td></tr></table></figure><ul><li>3.ç¼–å†™è„šæœ¬</li></ul><p>start.sh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"></span><br><span class="line">BASEDIR=`dirname $0`/..</span><br><span class="line">BASEDIR=`(cd &quot;$BASEDIR&quot;; pwd)`</span><br><span class="line">echo current path:$BASEDIR</span><br><span class="line"></span><br><span class="line">BASEBIN_DIR=$BASEDIR&quot;/bin&quot;</span><br><span class="line">cd $BASEBIN_DIR</span><br><span class="line"></span><br><span class="line">LAF_REG_INSTANCE=&quot;test-jsf-demo&quot;</span><br><span class="line">LOGPATH=&quot;&quot;</span><br><span class="line">LAF_REG_PIDPATH=&quot;$BASEBIN_DIR&quot;</span><br><span class="line"></span><br><span class="line">if [ &quot;$1&quot; != &quot;&quot; ] &amp;&amp; [ &quot;$2&quot; != &quot;&quot; ]; then</span><br><span class="line">    LAF_REG_INSTANCE=&quot;$1&quot;</span><br><span class="line">    LOGPATH=&quot;$2&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ &quot;$3&quot; != &quot;&quot; ]; then</span><br><span class="line">    LAF_REG_PIDPATH=&quot;$3&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ------ check if server is already running</span><br><span class="line">PIDFILE=$LAF_REG_PIDPATH&quot;/&quot;$LAF_REG_INSTANCE&quot;_startup.pid&quot;</span><br><span class="line">if [ -f $PIDFILE ]; then</span><br><span class="line">    if kill -0 `cat $PIDFILE` &gt; /dev/null 2&gt;&amp;1; then</span><br><span class="line">        echo server already running as process `cat $PIDFILE`.</span><br><span class="line">        exit 0</span><br><span class="line">    fi</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># ------ set JAVACMD</span><br><span class="line"># If a specific java binary isn&apos;t specified search for the standard &apos;java&apos; binary</span><br><span class="line">if [ -z &quot;$JAVACMD&quot; ] ; then</span><br><span class="line">  if [ -n &quot;$JAVA_HOME&quot;  ] ; then</span><br><span class="line">    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then</span><br><span class="line">      # IBM&apos;s JDK on AIX uses strange locations for the executables</span><br><span class="line">      JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;</span><br><span class="line">    else</span><br><span class="line">      JAVACMD=&quot;$JAVA_HOME/bin/java&quot;</span><br><span class="line">    fi</span><br><span class="line">  else</span><br><span class="line">    JAVACMD=`which java`</span><br><span class="line">  fi</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ ! -x &quot;$JAVACMD&quot; ] ; then</span><br><span class="line">  echo &quot;Error: JAVA_HOME is not defined correctly.&quot;</span><br><span class="line">  echo &quot;  We cannot execute $JAVACMD&quot;</span><br><span class="line">  exit 1</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># ------ set CLASSPATH</span><br><span class="line">CLASSPATH=&quot;$BASEDIR&quot;/conf/:&quot;$BASEDIR&quot;/root/:&quot;$BASEDIR&quot;/lib/*</span><br><span class="line">echo &quot;$CLASSPATH&quot;</span><br><span class="line"></span><br><span class="line"># ------ set jvm memory</span><br><span class="line">sed &quot;s/\r$//g&quot; jvm.properties &gt; 1.properties</span><br><span class="line">mv 1.properties jvm.properties</span><br><span class="line">if [ -z &quot;$OPTS_MEMORY&quot; ] ; then</span><br><span class="line">    OPTS_MEMORY=&quot;`sed -n &apos;1p&apos; jvm.properties`&quot;</span><br><span class="line">fi</span><br><span class="line">if [ &quot;`sed -n &apos;2p&apos; jvm.properties`&quot; != &quot;&quot; ] ; then</span><br><span class="line">    JAVA_CMD=&quot;`sed -n &apos;2p&apos; jvm.properties`&quot;</span><br><span class="line">    if [ -f $JAVA_CMD ]; then</span><br><span class="line">        JAVACMD=$JAVA_CMD</span><br><span class="line">    fi</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">#DEBUG_OPTS=&quot;-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000&quot;</span><br><span class="line">#JPDA_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n&quot;</span><br><span class="line"># ------ run proxy</span><br><span class="line">nohup &quot;$JAVACMD&quot; $JPDA_OPTS \</span><br><span class="line">  $OPTS_MEMORY $DEBUG_OPTS \</span><br><span class="line">  -classpath &quot;$CLASSPATH&quot; \</span><br><span class="line">  -Dbasedir=&quot;$BASEDIR&quot; \</span><br><span class="line">  -Dfile.encoding=&quot;UTF-8&quot; \</span><br><span class="line">  com.jd.testjsfdemo.TestjsfdemoApplication \</span><br><span class="line">  &gt; /Users/Logs/testjsfdemo_std.out &amp;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ------ wirte pid to file</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then</span><br><span class="line">    if /bin/echo -n $! &gt; &quot;$PIDFILE&quot;</span><br><span class="line">    then</span><br><span class="line">        sleep 1</span><br><span class="line">        echo STARTED SUCCESS</span><br><span class="line">    else</span><br><span class="line">        echo FAILED TO WRITE PID</span><br><span class="line">        exit 1</span><br><span class="line">    fi</span><br><span class="line">#    tail -100f $LOGFILE</span><br><span class="line">else</span><br><span class="line">    echo SERVER DID NOT START</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>stop.sh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">BASEDIR=`dirname $0`</span><br><span class="line">BASEDIR=`(cd &quot;$BASEDIR&quot;; pwd)`</span><br><span class="line">echo current path $BASEDIR</span><br><span class="line"></span><br><span class="line">LAF_REG_INSTANCE=&quot;test-jsf-demo&quot;</span><br><span class="line">LAF_REG_PIDPATH=&quot;$BASEDIR&quot;</span><br><span class="line"></span><br><span class="line">if [ &quot;$1&quot; != &quot;&quot; ]; then</span><br><span class="line">    LAF_REG_INSTANCE=&quot;$1&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ &quot;$2&quot; != &quot;&quot; ]; then</span><br><span class="line">    LAF_REG_PIDPATH=&quot;$2&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">PIDFILE=$LAF_REG_PIDPATH&quot;/&quot;$LAF_REG_INSTANCE&quot;_startup.pid&quot;</span><br><span class="line">echo $PIDFILE</span><br><span class="line"></span><br><span class="line">if [ ! -f &quot;$PIDFILE&quot; ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;no registry to stop (could not find file $PIDFILE)&quot;</span><br><span class="line">else</span><br><span class="line">    kill $(cat &quot;$PIDFILE&quot;)</span><br><span class="line">    sleep 10</span><br><span class="line">    kill -9 $(cat &quot;$PIDFILE&quot;)</span><br><span class="line">    rm -f &quot;$PIDFILE&quot;</span><br><span class="line">    echo STOPPED</span><br><span class="line">fi</span><br><span class="line">exit 0</span><br><span class="line"></span><br><span class="line">echo stop finished.</span><br></pre></td></tr></table></figure><p>jvm.properties</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-Xms1024m -Xmx1024m -Xmn400m</span><br><span class="line">/Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/bin/java</span><br></pre></td></tr></table></figure><ul><li>4.ç¼–è¯‘åå°±æˆåŠŸå•¦ï¼Œä¹‹ååœ¨jdosä¸Šé…ç½®ä¸€ä¸‹å°±å¯ä»¥è‡ªåŠ¨éƒ¨ç½²äº†</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;webå·¥ç¨‹é€šè¿‡mavenæ‰“åŒ…é€šå¸¸éƒ½æ˜¯waråŒ…ï¼ŒTomcatä¼šè‡ªåŠ¨å°†waråŒ…è§£å‹å¹¶å‘å¸ƒå‡ºæ¥ï¼Œä½†å¦‚æœæœ¬èº«åšçš„ä¸æ˜¯webå·¥ç¨‹ï¼Œæ˜¯æ™®é€šjavaé¡¹ç›®å¦‚ä½•å‘å¸ƒåˆ°æœåŠ¡å™¨ä¸Šå¹¶è¿è¡Œmainæ–¹æ³•å‘¢ï¼Ÿå…¬å¸é‡Œä½¿ç”¨maven-assemblyè¿™ä¸ªæ’ä»¶ï¼Œå°†é¡¹ç›®æ‰“åŒ…æˆzipå‹ç¼©åŒ…ï¼Œé‡Œé¢åŒ…å«binã€con
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>è§‚å¯Ÿè€…æ¨¡å¼</title>
    <link href="http://yoursite.com/2019/09/19/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"/>
    <id>http://yoursite.com/2019/09/19/è§‚å¯Ÿè€…æ¨¡å¼/</id>
    <published>2019-09-19T11:43:41.000Z</published>
    <updated>2019-09-19T11:45:47.845Z</updated>
    
    <content type="html"><![CDATA[<h3 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h3><p>åŒ…å«è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…ä¸¤ä¸ªéƒ¨åˆ†ï¼ŒåŸç†ä¹Ÿå¾ˆç®€å•ï¼Œè¢«è§‚å¯Ÿè€…ç±»ä¸­ç»´æŠ¤è§‚å¯Ÿè€…å¯¹è±¡çš„é›†åˆï¼Œå½“æ„Ÿå…´è¶£çš„äº‹ä»¶å‘ç”Ÿï¼Œéå†è§‚å¯Ÿè€…çš„é›†åˆå›è°ƒè§‚å¯Ÿè€…å¯¹è±¡ä¸­çš„ç›¸åº”æ–¹æ³•ï¼ˆupdateï¼‰å³å¯</p><p>è¢«è§‚å¯Ÿè€…é™¤äº†ç»´æŠ¤è§‚å¯Ÿè€…çš„é›†åˆå¤–ï¼Œè¿˜æœ‰å¯¹è¯¥é›†åˆçš„å¢ï¼ˆæ³¨å†Œï¼‰ã€åˆ ï¼ˆå–æ¶ˆï¼‰åŠé€šçŸ¥ç­‰æ“ä½œ</p><h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h4><h5 id="è§‚å¯Ÿè€…"><a href="#è§‚å¯Ÿè€…" class="headerlink" title="è§‚å¯Ÿè€…"></a>è§‚å¯Ÿè€…</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface Observer &#123;</span><br><span class="line">    update(String msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class ObserverImpl implements Observer &#123;</span><br><span class="line">private String name = &quot;&quot;;</span><br><span class="line">Observer(String name)&#123;</span><br><span class="line">this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">@override</span><br><span class="line">public void update(String msg)&#123;</span><br><span class="line">// æ„Ÿå…´è¶£çš„äº‹ä»¶å‘ç”Ÿ</span><br><span class="line">System.out.println(msg);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¢«è§‚å¯Ÿè€…"><a href="#è¢«è§‚å¯Ÿè€…" class="headerlink" title="è¢«è§‚å¯Ÿè€…"></a>è¢«è§‚å¯Ÿè€…</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public interface Observed&#123;</span><br><span class="line">registerObserver(Observer observer);</span><br><span class="line">removeObserver(Observer observer);</span><br><span class="line">notify(Observer observer);</span><br><span class="line">notifyAll();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public class ObservedImpl implements Observed&#123;</span><br><span class="line">    private static List&lt;Observer&gt; list = new ArrayList&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    @Override</span><br><span class="line">    public void registerObserver(Observer observer)&#123;</span><br><span class="line">        list.add(observer);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @Override</span><br><span class="line">    public void removeObserver(Observer observer)&#123;</span><br><span class="line">        list.remove(Observer);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @Override</span><br><span class="line">    public void notify(Observer observer)&#123;</span><br><span class="line">        list.stream().filter(n -&gt; n.equals(observer)).update(&quot;notify&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @Override</span><br><span class="line">    public void notifyAll()&#123;</span><br><span class="line">        list.stream().map(n -&gt; n.update(&quot;notifyAll&quot;));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Observed o = new ObservedImpl();</span><br><span class="line">Observer o1 = new ObserverImpl(&quot;o1&quot;);</span><br><span class="line">Observer o2 = new ObserverImpl(&quot;o2&quot;);</span><br><span class="line">o.registerObserver(o1);</span><br><span class="line">o.registerObserver(o2);</span><br><span class="line">o.notifyAll();</span><br></pre></td></tr></table></figure><h4 id="Observer-å’Œ-Observable"><a href="#Observer-å’Œ-Observable" class="headerlink" title="Observer å’Œ Observable"></a>Observer å’Œ Observable</h4><p>jdkä¸­æä¾›äº†è§‚å¯Ÿè€…æ¨¡å¼çš„APIï¼Œjava.utilåŒ…ä¸‹çš„Observeræ¥å£å’ŒObservableç±»ï¼ŒåŸç†æ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œåªæ˜¯è¿›è¡Œçš„å°è£…</p><p>ä¸Šæºç </p><h5 id="Observer"><a href="#Observer" class="headerlink" title="Observer"></a>Observer</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface Observer &#123;</span><br><span class="line">    void update(Observable o, Object arg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å’Œä¸Šé¢è§‚å¯Ÿè€…çš„éƒ¨åˆ†ä¸€æ ·ï¼Œå®ç°ä¸€ä¸ªå›è°ƒæ–¹æ³•ï¼Œå½“æ„Ÿå…´è¶£çš„äº‹ä»¶å‘ç”Ÿå›è°ƒè¯¥æ–¹æ³•</p><p>ä½¿ç”¨æ—¶ï¼Œå®ç°Observeræ¥å£ï¼Œé‡å†™updateæ–¹æ³•å³å¯ï¼Œå½“æ„Ÿå…´è¶£çš„äº‹ä»¶å‘ç”Ÿä¼šå›è°ƒupdateæ–¹æ³•ï¼Œè¿™é‡Œä¼šå†™å¢åŠ çš„ä¸šåŠ¡é€»è¾‘</p><h5 id="Observable"><a href="#Observable" class="headerlink" title="Observable"></a>Observable</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">public class Observable &#123;</span><br><span class="line">    private boolean changed = false;</span><br><span class="line">    private Vector&lt;Observer&gt; obs;</span><br><span class="line">    </span><br><span class="line">    public Observable() &#123;</span><br><span class="line">        obs = new Vector&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public synchronized void addObserver(Observer o) &#123;</span><br><span class="line">        if (o == null)</span><br><span class="line">            throw new NullPointerException();</span><br><span class="line">        if (!obs.contains(o)) &#123;</span><br><span class="line">            obs.addElement(o);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public synchronized void deleteObserver(Observer o) &#123;</span><br><span class="line">        obs.removeElement(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void notifyObservers() &#123;</span><br><span class="line">        notifyObservers(null);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void notifyObservers(Object arg) &#123;</span><br><span class="line">        Object[] arrLocal;</span><br><span class="line"></span><br><span class="line">        synchronized (this) &#123;</span><br><span class="line">            if (!changed)</span><br><span class="line">                return;</span><br><span class="line">            arrLocal = obs.toArray();</span><br><span class="line">            clearChanged();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        for (int i = arrLocal.length-1; i&gt;=0; i--)</span><br><span class="line">            ((Observer)arrLocal[i]).update(this, arg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public synchronized void deleteObservers() &#123;</span><br><span class="line">        obs.removeAllElements();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected synchronized void setChanged() &#123;</span><br><span class="line">        changed = true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected synchronized void clearChanged() &#123;</span><br><span class="line">        changed = false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public synchronized boolean hasChanged() &#123;</span><br><span class="line">        return changed;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    public synchronized int countObservers() &#123;</span><br><span class="line">        return obs.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åŒæ ·ï¼Œè¿™é‡Œç»´æŠ¤ä¸€ä¸ªè§‚å¯Ÿè€…çš„é›†åˆVectorï¼Œè¿™é‡Œè€ƒè™‘äº†çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œè¯´æ˜è¿™ç§æ–¹å¼å®ç°çš„è§‚å¯Ÿè€…æ¨¡å¼æ˜¯çº¿ç¨‹å®‰å…¨çš„</li><li>é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€ä¸ªboolç±»å‹çš„å˜é‡changedè¡¨ç¤ºè¢«è§‚å¯Ÿè€…æ˜¯å¦å‘ç”Ÿæ”¹å˜ï¼ˆä¹Ÿå°±æ˜¯æ„Ÿå…´è¶£çš„äº‹ä»¶æ˜¯å¦å‘ç”Ÿï¼‰ï¼Œé€šè¿‡è¯¥æ ‡å¿—æ¥é€šçŸ¥è§‚å¯Ÿè€…å¯¹è±¡</li><li>åŒæ ·ï¼Œè¯¥ç±»é‡Œæœ‰é’ˆå¯¹è§‚å¯Ÿè€…é›†åˆçš„å¢ã€åˆ ã€é€šçŸ¥çš„æ“ä½œï¼Œè¿˜å¤šäº†å¯¹changedæ ‡å¿—ä¿®æ”¹çš„æ“ä½œï¼›é™¤æ­¤ä¹‹å¤–æ‰€æœ‰æ–¹æ³•éƒ½æœ‰synchronizedå…³é”®å­—ï¼Œè¿›ä¸€æ­¥è¯´æ˜äº†è¿™ç§æ–¹å¼çš„è§‚å¯Ÿè€…æ¨¡å¼æ˜¯çº¿ç¨‹å®‰å…¨çš„</li><li>ä½¿ç”¨æ—¶ï¼Œåœ¨è¦è¢«è§‚å¯Ÿçš„ç±»ä¸­ç»§æ‰¿Observableç±»ï¼Œå†æ·»åŠ å®ç°äº†Observeræ¥å£çš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œè°ƒç”¨setChanged()æ–¹æ³•æ”¹å˜changedæ ‡å¿—åé€šè¿‡è°ƒç”¨notify()æ–¹æ³•è¿›è¡Œé€šçŸ¥</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;è§‚å¯Ÿè€…æ¨¡å¼&quot;&gt;&lt;a href=&quot;#è§‚å¯Ÿè€…æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;è§‚å¯Ÿè€…æ¨¡å¼&quot;&gt;&lt;/a&gt;è§‚å¯Ÿè€…æ¨¡å¼&lt;/h3&gt;&lt;p&gt;åŒ…å«è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…ä¸¤ä¸ªéƒ¨åˆ†ï¼ŒåŸç†ä¹Ÿå¾ˆç®€å•ï¼Œè¢«è§‚å¯Ÿè€…ç±»ä¸­ç»´æŠ¤è§‚å¯Ÿè€…å¯¹è±¡çš„é›†åˆï¼Œå½“æ„Ÿå…´è¶£çš„äº‹ä»¶å‘ç”Ÿï¼Œéå†è§‚å¯Ÿè€…çš„é›†åˆå›
      
    
    </summary>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://yoursite.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://yoursite.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Zookeeperæ‰«ç›²</title>
    <link href="http://yoursite.com/2019/08/29/Zookeeper%E6%89%AB%E7%9B%B2/"/>
    <id>http://yoursite.com/2019/08/29/Zookeeperæ‰«ç›²/</id>
    <published>2019-08-29T07:23:15.000Z</published>
    <updated>2019-08-29T07:24:51.226Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Zookeeper"><a href="#Zookeeper" class="headerlink" title="Zookeeper"></a>Zookeeper</h3><p>æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒæœåŠ¡æ¡†æ¶ï¼Œè¿™å¥è¯å¯¹äºåˆšæ¥è§¦ZKï¼ˆZookeeperä¸‹æ–‡ç®€ç§°ZKï¼‰çš„æˆ‘æ¥è¯´å¤ªæŠ½è±¡äº†ï¼Œå¾ˆéš¾ç†è§£ï¼ŒåªçŸ¥é“å®ƒèƒ½æä¾›ä¸€äº›æœåŠ¡èƒ½å¤Ÿå®ç°é…ç½®ç®¡ç†ã€å‘½åæœåŠ¡ã€åˆ†å¸ƒå¼é”ç­‰ç­‰ï¼Œä¹Ÿå°±æ˜¯åœ¨è¿™äº›åœºæ™¯ä¸‹ä¼šä½¿ç”¨åˆ°ZKï¼Œè¿™æ ·è¯´å¥½åƒè¿˜æ˜¯å¾ˆéš¾ç†è§£ï¼›ä¹‹åï¼Œæˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒå¥½ç†è§£çš„ç‚¹ï¼Œå°±æ˜¯ä»CAPç†è®ºçš„è§’åº¦ï¼Œè¿™éœ€è¦å¯¹CAPæœ‰äº›äº†è§£ï¼Œæå‰åšäº†åŠŸè¯¾(<a href="http://yywang.top/2019/08/26/CAP%E5%92%8CBASE/#more" target="_blank" rel="noopener">CAPå’ŒBASE</a>)ï¼Œç®€å•æ¥è¯´åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‡ºç°ç½‘ç»œæ•…éšœæ—¶ï¼Œæœ€å¤šæ»¡è¶³å…¶ä¸­çš„ä¸¤é¡¹ï¼Œè€ŒPæ˜¯å¿…é¡»è¦æ»¡è¶³çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦ä»CPå’ŒAPä¸­åšé€‰æ‹©äº†ï¼›ZKå°±æ˜¯å¯ä¿è¯CPçš„æ¡†æ¶ï¼Œæœ€åæˆ‘çš„ç†è§£å°±æ˜¯ZKé€šè¿‡ç‰¹å®šçš„æ•°æ®ç»“æ„ï¼Œå°è£…ä¸€ç³»åˆ—ç®—æ³•é€šè¿‡APIçš„æ–¹å¼æä¾›åˆ†å¸ƒå¼ç¯å¢ƒæ•°æ®ä¸€è‡´æ€§çš„æœåŠ¡ï¼Œæ‰€æœ‰éœ€è¦æ•°æ®ä¸€è‡´æ€§çš„åœºæ™¯éƒ½å¯ä»¥ä½¿ç”¨ZKï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„é…ç½®ç®¡ç†ã€å‘½åæœåŠ¡ã€åˆ†å¸ƒå¼é”ç­‰ç­‰åœºæ™¯</p><h3 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h3><h4 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h4><p>ZKæä¾›äº†ä¸€å¥—ç±»ä¼¼äºæ–‡ä»¶ç›®å½•çš„æ•°æ®ç»“æ„ï¼Œå«åšå¤šå±‚çº§çš„èŠ‚ç‚¹å‘½åç©ºé—´ï¼Œæ¯ä¸ªèŠ‚ç‚¹ï¼ˆZKä¸­ç§°ä¸ºznodeï¼‰éƒ½å¯ä»¥å­˜æ”¾æ•°æ®ä¸”æ¯ä¸ªèŠ‚ç‚¹ä¸‹éƒ½æœ‰è‹¥å¹²ä¸ªå­èŠ‚ç‚¹ï¼Œå¬èµ·æ¥å’Œæ ‘çš„ç»“æ„å·®ä¸å¤šï¼Œå…¶å®ä¹Ÿä¸€æ ·ï¼Œç›®å½•ä¹Ÿæ˜¯ä¸€ç§æ ‘ç»“æ„çš„å®ç°ï¼Œznodeå¯ä»¥ç†è§£ä¸ºæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ä¸­å¯ä»¥å­˜æ”¾æ–‡ä»¶ï¼ˆznodeå¯ä»¥å­˜æ”¾æ•°æ®ï¼‰ï¼Œä¹Ÿå¯ä»¥å­˜æ”¾æ–‡ä»¶å¤¹ï¼ˆznodeä¹Ÿå¯ä»¥å­˜æ”¾znodeï¼‰</p><h5 id="znodeçš„ç±»å‹"><a href="#znodeçš„ç±»å‹" class="headerlink" title="znodeçš„ç±»å‹"></a>znodeçš„ç±»å‹</h5><ul><li>PERSISTENTâ€“æŒä¹…åŒ–ç›®å½•èŠ‚ç‚¹<ul><li>å®¢æˆ·ç«¯å’ŒZKæ–­å¼€è¿æ¥åèŠ‚ç‚¹ä¾ç„¶å­˜åœ¨</li></ul></li><li>PERSISTENT_SEQUENTIALâ€“æŒä¹…åŒ–é¡ºåºç¼–å·ç›®å½•èŠ‚ç‚¹<ul><li>ä¸æŒä¹…åŒ–ç›®å½•èŠ‚ç‚¹ç›¸åŒï¼Œåªæ˜¯å¤šäº†ZKå¯¹èŠ‚ç‚¹çš„é¡ºåºç¼–å·</li></ul></li><li>EPHEMERALâ€“ä¸´æ—¶ç›®å½•èŠ‚ç‚¹<ul><li>å®¢æˆ·ç«¯å’ŒZKæ–­å¼€è¿æ¥åèŠ‚ç‚¹è¢«åˆ é™¤</li></ul></li><li>EPHEMERAL_SEQUENTIALâ€“ä¸´æ—¶é¡ºåºç¼–å·ç›®å½•èŠ‚ç‚¹<ul><li>ä¸ä¸´æ—¶ç›®å½•èŠ‚ç‚¹ç›¸åŒï¼Œåªæ˜¯å¤šäº†ZKå¯¹èŠ‚ç‚¹çš„é¡ºåºç¼–å· </li></ul></li></ul><h4 id="é€šçŸ¥æœºåˆ¶"><a href="#é€šçŸ¥æœºåˆ¶" class="headerlink" title="é€šçŸ¥æœºåˆ¶"></a>é€šçŸ¥æœºåˆ¶</h4><p>ZKè¿˜æä¾›äº†ç±»ä¼¼äºè§‚å¯Ÿè¿™æ¨¡å¼çš„é€šçŸ¥æœºåˆ¶ï¼Œç§°ä¸ºwatcheräº‹ä»¶ï¼Œå¯ä»¥è§‚å¯Ÿåˆ°znodeçš„å˜åŒ–ï¼Œæ¥é€šçŸ¥å®¢æˆ·ç«¯ï¼Œä¹‹åå®¢æˆ·ç«¯å†åšç›¸åº”çš„ä¸šåŠ¡é€»è¾‘</p><h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><h4 id="å‘½åæœåŠ¡"><a href="#å‘½åæœåŠ¡" class="headerlink" title="å‘½åæœåŠ¡"></a>å‘½åæœåŠ¡</h4><p>è¿™é‡Œå‘½åæœåŠ¡æŒ‡çš„æ˜¯é€šè¿‡æŒ‡å®šåå­—è·å–å¯¹åº”çš„èµ„æºï¼Œå°†èµ„æºå­˜å‚¨åœ¨ç‰¹å®šè·¯å¾„çš„znodeä¸­ï¼Œæ ¹æ®è·¯å¾„å°±å¯ä»¥æ‰¾åˆ°èµ„æºï¼Œç±»æ¯”ç›®å½•ç»“æ„æ¥è¯´ï¼Œæ‹¿åˆ°æ–‡ä»¶çš„åœ°å€å°±èƒ½é€šè¿‡åœ°å€æ¥æ‰¾åˆ°æ–‡ä»¶ï¼Œæœ‰ç‚¹åƒæ˜¯URLçš„æ„æ€ï¼Œä½†æ˜¯ç”±äºZKæ•°æ®ç»“æ„è®¾è®¡çš„å› ç´ ZKä¸èƒ½å­˜æ”¾è¾ƒå¤§çš„æ•°æ®ï¼›å¾®æœåŠ¡æ¡†æ¶ä¸­çš„æ³¨å†Œä¸­å¿ƒéœ€è¦å­˜æ”¾providerå’Œconsumerçš„ä¿¡æ¯ï¼Œå¹¶ä¸”consumerè¦èƒ½å¤Ÿæ„ŸçŸ¥providerçš„å®æ—¶çŠ¶æ€ï¼ŒZKå¯ä»¥æ ¹æ®providerå’Œconsumerçš„åœ°å€æ˜ å°„æˆä¸´æ—¶znodeç»“æ„ï¼Œè¿™æ ·æ—¢ä¿å­˜äº†providerå’Œconsumerçš„ä¿¡æ¯è¿˜èƒ½æ„ŸçŸ¥å½¼æ­¤çš„çŠ¶æ€</p><h4 id="é…ç½®ç®¡ç†"><a href="#é…ç½®ç®¡ç†" class="headerlink" title="é…ç½®ç®¡ç†"></a>é…ç½®ç®¡ç†</h4><p>ä¸€å¥è¯è§£é‡Šâ€”-åŠ¨æ€ä¸‹å‘é…ç½®æ–‡ä»¶å˜åŒ–ï¼›é€šè¿‡ZKå®¢æˆ·ç«¯watché…ç½®æ–‡ä»¶ï¼Œä¸€æ—¦é…ç½®æ–‡ä»¶å‘ç”Ÿå˜åŒ–é©¬ä¸Šé€šçŸ¥å®¢æˆ·ç«¯åšå¯¹åº”çš„å¤„ç†</p><h4 id="åˆ†å¸ƒå¼é”"><a href="#åˆ†å¸ƒå¼é”" class="headerlink" title="åˆ†å¸ƒå¼é”"></a>åˆ†å¸ƒå¼é”</h4><p>å¤šä¸ªå®¢æˆ·ç«¯å†ZKçš„åŒä¸€ä¸ªç›®å½•ä¸‹å°è¯•åˆ›å»ºä¸´æ—¶znodeï¼ŒæˆåŠŸåˆ›å»ºznodeæ„å‘³ç€è·å¾—é”æˆåŠŸï¼Œä¸‹ä¸ªå®¢æˆ·ç«¯å‘ç°ç›®å½•ä¸‹å·²ç»å­˜åœ¨znodeåˆ™å¯¹è¯¥znodeæ·»åŠ watchæœºåˆ¶ï¼Œå½“znodeæ¶ˆå¤±å³ä¸ºé‡Šæ”¾é”åï¼Œé€šçŸ¥å®¢æˆ·ç«¯å°è¯•åˆ›å»ºznodeæ¥è·å–é”ï¼Œè¿™æ˜¯å…¬å¹³é”ï¼›éå…¬å¹³é”çš„åˆ™åˆ›å»ºä¸´æ—¶æœ‰åºçš„znodeï¼Œç›¸å½“äºä¸€ä¸ªé˜Ÿåˆ—ï¼Œåé¢çš„èŠ‚ç‚¹watchå‰ä¸€ä¸ªèŠ‚ç‚¹çš„znodeçš„çŠ¶æ€ï¼Œé˜Ÿå¤´çš„znodeä¸ºè·å¾—é”æˆåŠŸçš„å‡ ç‚¹</p><h3 id="é€‰ä¸¾ç®—æ³•"><a href="#é€‰ä¸¾ç®—æ³•" class="headerlink" title="é€‰ä¸¾ç®—æ³•"></a>é€‰ä¸¾ç®—æ³•</h3><h4 id="ZKèŠ‚ç‚¹çš„çŠ¶æ€"><a href="#ZKèŠ‚ç‚¹çš„çŠ¶æ€" class="headerlink" title="ZKèŠ‚ç‚¹çš„çŠ¶æ€"></a>ZKèŠ‚ç‚¹çš„çŠ¶æ€</h4><ul><li>LOOKINGâ€“å½“å‰èŠ‚ç‚¹ä¸çŸ¥é“leaderæ˜¯è°ï¼Œæ­£åœ¨æœç´¢</li><li>LEADINGâ€“å½“å‰èŠ‚ç‚¹ä¸ºé›†ç¾¤çš„leader</li><li>FOLLOWINGâ€“ç›®å‰å·²æœ‰leaderï¼Œå½“å‰èŠ‚ç‚¹è´Ÿè´£ä¸leaderèŠ‚ç‚¹åŒæ­¥</li></ul><h4 id="é€‰ä¸¾è¿‡ç¨‹"><a href="#é€‰ä¸¾è¿‡ç¨‹" class="headerlink" title="é€‰ä¸¾è¿‡ç¨‹"></a>é€‰ä¸¾è¿‡ç¨‹</h4><p>åœ¨ä¸¤ç§æƒ…å†µä¸‹ä¼šè¿›è¡Œé€‰ä¸¾ï¼Œ1.æœåŠ¡å™¨åˆå§‹åŒ–å¯åŠ¨ 2.é›†ç¾¤ä¸­leaderèŠ‚ç‚¹æ•…éšœ</p><p>èµ·åˆé›†ç¾¤ä¸­çš„èŠ‚ç‚¹æ²¡æœ‰leaderæˆ–è€…ä¸çŸ¥é“leaderæ˜¯è°ï¼Œæ­¤æ—¶èŠ‚ç‚¹çš„çŠ¶æ€ä¸ºLOOKINGï¼Œå¦‚æœå½“å‰é›†ç¾¤å­˜åœ¨leaderï¼ˆè¯¥èŠ‚ç‚¹æ–°åŠ å…¥é›†ç¾¤ï¼‰ï¼Œæ­¤èŠ‚ç‚¹å‘é€æŠ•ç¥¨ä¿¡æ¯æƒ³è¦é€‰ä¸¾leaderä¼šè¢«å‘ŠçŸ¥å½“å‰leaderçš„ä¿¡æ¯ï¼Œæ­¤èŠ‚ç‚¹åªéœ€å’ŒleaderèŠ‚ç‚¹å»ºç«‹è¿æ¥ï¼Œå¹¶è¿›è¡ŒçŠ¶æ€åŒæ­¥å³å¯ï¼›</p><p>å¦‚æœå½“å‰é›†ç¾¤ä¸å­˜åœ¨leaderèŠ‚ç‚¹ï¼Œåˆ™éœ€è¦æŠ•ç¥¨è¿›è¡Œé€‰ä¸¾</p><ul><li>æ­¤æ—¶æ‰€æœ‰èŠ‚ç‚¹çš†ä¸ºLOOKINGçŠ¶æ€ï¼Œå¹¶ç¼–è¾‘æŠ•ç¥¨ä¿¡æ¯å‘é€ç»™é›†ç¾¤çš„å…¶ä»–èŠ‚ç‚¹ï¼ŒæŠ•ç¥¨ä¿¡æ¯çš„æ ¼å¼ä¸ºï¼ˆSID,ZXIDï¼‰ï¼ˆæœåŠ¡å™¨çš„å”¯ä¸€æ ‡è¯†ï¼Œäº‹åŠ¡IDï¼‰ï¼ŒSIDæ˜¯è‡ªå·±é…ç½®çš„ï¼ŒZXIDç†è§£ä¸ºå½“å‰èŠ‚ç‚¹æ•°æ®çš„ç‰ˆæœ¬ï¼›</li><li>é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ä¼šå—åˆ°å…¶ä»–èŠ‚ç‚¹çš„æŠ•ç¥¨ä¿¡æ¯ï¼ŒåŠ ä¸Šè‡ªå·±çš„é‚£ä¸€ç¥¨ä¼šæ ¹æ®ä¸€ä¸ªè§„åˆ™ä¼šæŠ•å‡ºç¬¬äºŒè½®çš„é€‰ç¥¨<ul><li>èŠ‚ç‚¹ä¼šåœ¨è‡ªå·±æ”¶åˆ°çš„é€‰ç¥¨ä¸­ï¼Œé€‰æ‹©ZXIDæœ€å¤§çš„ä½œä¸ºç¬¬äºŒè½®çš„é€‰ç¥¨å‘é€ç»™é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹</li><li>å¦‚æœZXIDç›¸åŒåˆ™é€‰æ‹©SIDæœ€å¤§çš„ä½œä¸ºç¬¬äºŒè½®çš„é€‰ç¥¨å‘é€ç»™é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹</li></ul></li><li>é›†ç¾¤ä¸­çš„èŠ‚ç‚¹åœ¨æ¥æ”¶åˆ°ç¬¬äºŒè½®é€‰ç¥¨åè¿›è¡Œç»Ÿè®¡ï¼ˆåŒ…å«è‡ªå·±çš„ä¸€ç¥¨ï¼‰ï¼Œè·å¾—é›†ç¾¤ä¸­ä¸€åŠä»¥ä¸Šï¼ˆ&gt;n/2ï¼‰æ•°é‡æŠ•ç¥¨çš„èŠ‚ç‚¹å½“é€‰leaderè¿›å…¥LEADINGçŠ¶æ€ï¼Œå…¶ä½™èŠ‚ç‚¹è¿›å…¥FOLLOWINGçŠ¶æ€</li></ul><p>æ€»ç»“ä¸€ä¸‹ï¼Œé›†ç¾¤ä¸­è¦è·å¾—ä¸€åŠä»¥ä¸Šçš„æŠ•ç¥¨æ‰èƒ½å½“é€‰leaderï¼Œæ‰€ä»¥é›†ç¾¤æœ€å°‘ä¸º3å°ï¼Œå¹¶ä¸”æ•°é‡æ˜¯å¥‡æ•°ï¼›é›†ç¾¤ä¸­ZXIDè¶Šå¤§çš„èŠ‚ç‚¹ï¼ˆå½“å‰èŠ‚ç‚¹æ•°æ®ç‰ˆæœ¬è¶Šæ–°ï¼‰ä¼˜å…ˆå½“é€‰leader</p><h3 id="å®‰è£…ä¸å¯åŠ¨"><a href="#å®‰è£…ä¸å¯åŠ¨" class="headerlink" title="å®‰è£…ä¸å¯åŠ¨"></a>å®‰è£…ä¸å¯åŠ¨</h3><p>æ•´ä¸ªè¿‡ç¨‹æ²¡æœ‰éš¾åº¦ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œè·Ÿç€<a href="https://www.jianshu.com/p/5491d16e6abd" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>åšå°±å®Œäº‹äº†</p><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>æœ¬æ–‡æ˜¯å¯¹äºZookeeperçš„æ‰«ç›²ï¼Œå¤§è‡´äº†è§£ZKçš„åŸºæœ¬åŸç†ï¼Œä¸ºäº†æ›´å¥½çš„ç†è§£å·¥ä½œä¸­çš„é¡¹ç›®ï¼Œå…·æœ‰ç›®çš„æ€§ï¼Œä¸€äº›ç»†èŠ‚æ²¡æœ‰å»ç ”ç©¶ï¼Œä¸‹å›å†è¡¥ï¼ŒğŸ˜‹</p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a href="http://jm.taobao.org/2011/10/08/1232/" target="_blank" rel="noopener">ZooKeeperå…¸å‹åº”ç”¨åœºæ™¯ä¸€è§ˆ</a></p><p><a href="https://www.jianshu.com/p/5491d16e6abd" target="_blank" rel="noopener">ç¬”è®°ï¼šMacä¸Šzookeeperçš„å®‰è£…ä¸å¯åŠ¨</a></p><p><a href="https://segmentfault.com/a/1190000014479433?utm_source=tag-newest" target="_blank" rel="noopener">zookeeperé¢è¯•é¢˜</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Zookeeper&quot;&gt;&lt;a href=&quot;#Zookeeper&quot; class=&quot;headerlink&quot; title=&quot;Zookeeper&quot;&gt;&lt;/a&gt;Zookeeper&lt;/h3&gt;&lt;p&gt;æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒæœåŠ¡æ¡†æ¶ï¼Œè¿™å¥è¯å¯¹äºåˆšæ¥è§¦ZKï¼ˆZookeeperä¸‹æ–‡ç®€ç§°ZKï¼‰çš„æˆ‘
      
    
    </summary>
    
      <category term="åˆ†å¸ƒå¼" scheme="http://yoursite.com/categories/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
    
      <category term="åˆ†å¸ƒå¼" scheme="http://yoursite.com/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>CAPå’ŒBASE</title>
    <link href="http://yoursite.com/2019/08/26/CAP%E5%92%8CBASE/"/>
    <id>http://yoursite.com/2019/08/26/CAPå’ŒBASE/</id>
    <published>2019-08-26T08:52:51.000Z</published>
    <updated>2019-08-29T07:24:22.512Z</updated>
    
    <content type="html"><![CDATA[<h3 id="CAPç†è®º"><a href="#CAPç†è®º" class="headerlink" title="CAPç†è®º"></a>CAPç†è®º</h3><p>Consistencyï¼ˆä¸€è‡´æ€§ï¼‰ Availabilityï¼ˆå¯ç”¨æ€§ï¼‰ Partition toleranceï¼ˆåˆ†åŒºå®¹é”™æ€§ï¼‰</p><p>CAPç†è®ºçš„å†…å®¹æ˜¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‡ºç°ç½‘ç»œæ•…éšœæ—¶æœ€å¤šåªèƒ½æ»¡è¶³CAPä¸­çš„ä¸¤é¡¹</p><ul><li>Consistency ä¸€è‡´æ€§<ul><li>â€œall node see the same data at the same timeâ€ å°±æ˜¯æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ•°æ®ä¸€è‡´æ€§ï¼Œå¯ç”¨çœ‹å‡ºè¿™é‡Œçš„ä¸€è‡´æ€§æŒ‡çš„æ˜¯å¼ºä¸€è‡´æ€§ï¼Œè¦æ±‚åˆ†å¸ƒå¼ç³»ç»Ÿæ•°æ®å‘ç”Ÿæ”¹å˜åæ‰€æœ‰èŠ‚ç‚¹åœ¨åç»­çš„è¯·æ±‚ä¸­éƒ½èƒ½æ„ŸçŸ¥åˆ°</li><li>å¼ºä¸€è‡´æ€§ï¼Œå½“æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œç³»ç»Ÿä¸­çš„å…¶ä»–èŠ‚ç‚¹åœ¨ä¸‹æ¬¡è¯·æ±‚éƒ½ä¼šæ„ŸçŸ¥åˆ°</li><li>å¼±ä¸€è‡´æ€§ï¼Œä¿è¯æŸä¸ªæ—¶é—´çº§åˆ«ï¼ˆæ¯”å¦‚xxç§’ï¼‰ï¼Œæ•°æ®èƒ½å¤Ÿè¾¾åˆ°æ•°æ®ä¸€è‡´çš„çŠ¶æ€</li><li>æœ€ç»ˆä¸€è‡´æ€§ï¼Œå¼±ä¸€è‡´æ€§çš„ä¸€ä¸ªç‰¹ä¾‹ï¼Œä¿è¯åœ¨ä¸€æ®µæ—¶é—´å†…è¾¾åˆ°æ•°æ®ä¸€è‡´çš„çŠ¶æ€</li></ul></li><li>Availability å¯ç”¨æ€§<ul><li>â€œReads and Writes always succeedâ€ï¼Œè¿™é‡Œçš„succeedæŒ‡çš„æ˜¯è¯·æ±‚å’Œå“åº”çš„è¿‡ç¨‹æˆåŠŸï¼Œä¹Ÿæ¯æ¬¡è¯·æ±‚éƒ½ä¼šåœ¨æœ‰é™çš„æ—¶é—´å†…æ”¶åˆ°å›å¤ï¼Œæ¢å¥è¯è¯´å°±æ˜¯æœåŠ¡å™¨å¯ç”¨ï¼›å¹¶ä¸æ˜¯è¯·æ±‚çš„è¿”å›å€¼æ˜¯æˆåŠŸçš„æ„æ€ï¼Œè¿”å›å€¼æ˜¯å¤±è´¥ä¹Ÿæ˜¯æœ‰è¿”å›å€¼çš„ï¼ŒåŒæ ·è¯´æ˜è¯·æ±‚å“åº”çš„è¿‡ç¨‹æ˜¯æˆåŠŸçš„ã€‚</li><li>ç³»ç»Ÿå¯ç”¨æ€§5ä¸ª9ï¼Œæ„ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„å¯ç”¨æ°´å¹³ä¸º99.999%ï¼Œå…¨å¹´åœæœºæ—¶é—´ä¸è¶…è¿‡ <strong>(1-0.99999)<em>365</em>24*60 = 5.256 min</strong></li></ul></li><li>Partition tolerance åˆ†åŒºå®¹é”™æ€§<ul><li>â€œthe system continues to operate despite arbitrary message loss or failure of part of the systemâ€ åˆ†åŒºæŒ‡çš„æ˜¯ç”±äºç½‘ç»œå¼‚å¸¸é›†ç¾¤ä¸­åªæœ‰éƒ¨åˆ†èŠ‚ç‚¹èƒ½å¤Ÿæ­£å¸¸é€šä¿¡ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªèƒ½å¤Ÿé€šä¿¡çš„å­ç½‘ç»œï¼Œè¿™äº›å­ç½‘ç»œå°±æ˜¯åˆ†åŒºï¼›åˆæˆ–è€…è¯´é›†ç¾¤ä¸­éƒ¨åˆ†æœåŠ¡å™¨å®•æœºï¼Œå…¶ä»–æœåŠ¡å™¨ä¾ç„¶å¯ç”¨ï¼Œè¿™éƒ¨åˆ†å¯ç”¨çš„æœåŠ¡å™¨ç»„æˆçš„å­ç½‘ç»œä¹Ÿå¯ä»¥ç§°ä¸ºåˆ†åŒºã€‚åˆ†åŒºå®¹é”™æ€§æ˜¯æŒ‡å½“å‡ºç°ç½‘ç»œå»¶è¿Ÿæˆ–è€…æ•…éšœçš„æƒ…å†µæ—¶ç³»ç»Ÿä¾ç„¶èƒ½å¤Ÿæä¾›æœåŠ¡</li></ul></li></ul><p>æ€ä¹ˆç†è§£å‘¢ï¼Ÿç®€å•æ¥è¯´å°±æ˜¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‘ç”Ÿæ•…éšœæ—¶ï¼ŒCAPæœ€å¤šåªèƒ½æ»¡è¶³å…¶ä¸­çš„ä¸¤é¡¹ï¼Œä¹Ÿå°±æ˜¯CAPä¸‰é€‰äºŒå‘—ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°Pï¼ˆåˆ†åŒºå®¹é”™æ€§ï¼‰è¯´ç™½äº†å°±æ˜¯æŒ‡ç½‘ç»œå‡ºé—®é¢˜åç³»ç»Ÿä¾ç„¶å¯ç”¨ï¼Œè¿™å¯æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºç¡€æ¡ä»¶ï¼Œåº”è¯¥å¿…é¡»æ»¡è¶³ï¼›åœ¨æ»¡è¶³åˆ†åŒºå®¹é”™æ€§æ—¶æœ‰å¯èƒ½ä¼šå­˜åœ¨ä¸¤ç§é—®é¢˜</p><ul><li>1.ç”¨æˆ·è®¿é—®éƒ¨åˆ†æœåŠ¡å™¨é—´çš„ç½‘ç»œå¼‚å¸¸ï¼Œè¿™æ—¶åªéœ€å°†è¯·æ±‚è½¬å‘åˆ°å¯ç”¨çš„æœåŠ¡å™¨å³å¯ï¼Œè¿™æ—¶åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼ˆæœåŠ¡å™¨é—´çš„ç½‘ç»œé€šç•…ï¼‰æ˜¯å¯ä»¥æ»¡è¶³CAPçš„ï¼Œé™¤éå’Œæ‰€æœ‰æœåŠ¡å™¨çš„ç½‘ç»œéƒ½æœ‰é—®é¢˜ï¼ˆ<strong>è¿™åªæ˜¯ç†æƒ³æƒ…å†µ</strong>ï¼‰</li><li>2.é™¤äº†ç”¨æˆ·è®¿é—®æœåŠ¡å™¨çš„ç½‘ç»œå¼‚å¸¸ä¹‹å¤–ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸åŒæœåŠ¡å™¨ç›´æ¥çš„ç½‘ç»œä¹Ÿå¯èƒ½å­˜åœ¨å¼‚å¸¸ï¼Œä¾‹å¦‚åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æœ‰Aã€Bä¸¤å°æœåŠ¡å™¨ï¼Œå‡è®¾Aã€Bä¹‹é—´å­˜åœ¨ç½‘ç»œæ•…éšœï¼Œå½“æœåŠ¡å™¨Aæ”¹å˜æ•°æ®ä¹‹åæ— æ³•åŒæ­¥åˆ°æœåŠ¡å™¨Bï¼Œæ­¤æ—¶å°±ä¸èƒ½ä¿è¯å¼ºä¸€è‡´æ€§å’Œå¯ç”¨æ€§åŒæ—¶æ»¡è¶³<ul><li>æ”¾å¼ƒå¼ºä¸€è‡´æ€§ï¼ˆCï¼‰ï¼Œç”¨æˆ·è¯·æ±‚Aå¯ä»¥å¾—åˆ°æœ€æ–°çš„æ•°æ®ï¼Œç”¨æˆ·è¯·æ±‚Bå¾—åˆ°çš„æ˜¯æ—§æ•°æ®ï¼›å¯ä»¥ä¿è¯ç”¨æˆ·æ¯æ¬¡è¯·æ±‚éƒ½ä¼šè¿”å›ç»“æœï¼Œä½†ä¸èƒ½ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§</li><li>æ”¾å¼ƒå¯ç”¨æ€§ï¼ˆAï¼‰ï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§ï¼Œæ•°æ®æ¯æ¬¡ä¿®æ”¹åéƒ½éœ€è¦ç­‰å¾…æ‰€æœ‰çš„æ•°æ®æºéƒ½åŒæ­¥åæ‰èƒ½è¿›è¡Œè¯»å†™ï¼Œç”¨æˆ·è¯·æ±‚æœåŠ¡å™¨Aæˆ–è€…Bï¼Œç”±äºæ•°æ®å§‹ç»ˆä¸èƒ½åŒæ­¥ï¼Œæœ€åä¼šä¸€ç›´é˜»å¡ä¸‹å»ï¼Œä¸èƒ½ä¿è¯ç”¨æˆ·çš„æ¯æ¬¡éƒ½èƒ½çŸ­æ—¶é—´å†…å¾—åˆ°è¿”å›å€¼ç”šè‡³å¾—ä¸åˆ°è¿”å›å€¼</li></ul></li></ul><p>ç»¼ä¸Šï¼Œæˆ‘è®¤ä¸ºçš„CAPç†è®ºæ˜¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æœåŠ¡å™¨ä¹‹é—´ç½‘ç»œå‡ºç°é—®é¢˜æ—¶ï¼ŒCAPæœ€å¤šåªèƒ½æ»¡è¶³å…¶äºŒï¼Œå¹¶ä¸æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿå°±åªèƒ½æ»¡è¶³CAPä¸­çš„ä¸¤é¡¹ï¼Œç†æƒ³æƒ…å†µä¸‹æ˜¯éƒ½å¯æ»¡è¶³çš„ï¼ˆè™½ç„¶ç°åœ¨ä¸å¤§å¯èƒ½ï¼‰ï¼›å†µä¸”åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­Pæ˜¯å¿…é¡»æ»¡è¶³çš„ï¼Œä¹Ÿå°±æ˜¯è¯´CAåªèƒ½æ»¡è¶³å…¶ä¸€ï¼Œå…·ä½“çš„å–èˆéœ€è¦æ ¹æ®ä¸åŒçš„ä¸šåŠ¡åœºæ™¯æƒè¡¡</p><h3 id="BASEç†è®º"><a href="#BASEç†è®º" class="headerlink" title="BASEç†è®º"></a>BASEç†è®º</h3><ul><li>Basically Availableï¼ˆåŸºæœ¬å¯ç”¨ï¼‰<ul><li>ç³»ç»Ÿè®¾è®¡ä¸­å¯ä»¥ç‰ºç‰²éƒ¨åˆ†å¯ç”¨æ€§ï¼Œæ¯”å¦‚å…è®¸å“åº”æ—¶é—´å¢åŠ 1-2ç§’ï¼ŒæœåŠ¡é™çº§ç­‰</li></ul></li><li>Soft stateï¼ˆè½¯çŠ¶æ€ï¼‰<ul><li>å…è®¸ç³»ç»Ÿä¸­çš„æ•°æ®å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œå…è®¸æ•°æ®åŒæ­¥è¿‡ç¨‹å­˜åœ¨å»¶è¿Ÿ</li></ul></li><li>Eventually consistentï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰<ul><li>æ‰€æœ‰æ•°æ®å†ä¸€æ®µæ—¶é—´çš„æ•°æ®åŒæ­¥åéƒ½èƒ½è¾¾åˆ°ä¸€è‡´çš„çŠ¶æ€ </li></ul></li></ul><p>ç»¼ä¸Šï¼Œä¸åŒçš„ä¸šåŠ¡ä»¥BASEç†è®ºä¸ºåŸºç¡€å¯¹å¯ç”¨æ€§å’Œä¸€è‡´æ€§è¿›è¡Œä¸€ä¸ªæƒè¡¡ï¼›zkå’Œæ•°æ®åº“çš„ä¸»ä»éƒ½æ˜¯èˆå¼ƒé«˜å¯ç”¨æ€§ï¼›æ¶‰åŠåˆ°ç”¨æˆ·ä½“éªŒçš„åœºæ™¯åˆ™éœ€è¦èˆå¼ƒæ•°æ®å¼ºä¸€è‡´æ€§å¦‚12306ä¹°ç«è½¦ç¥¨ï¼Œ618å’ŒåŒ11ç­‰å¯¹äºç”¨æˆ·çš„æ¯ä¸ªè¯·æ±‚éƒ½éœ€è¦ç»™ä¸å“åº”ï¼Œå…è®¸å­˜åœ¨çŸ­æ—¶é—´æ•°æ®ä¸ä¸€è‡´çš„çŠ¶æ€</p><p><a href="http://www.hollischuang.com/archives/666" target="_blank" rel="noopener">å‚è€ƒèµ„æ–™</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;CAPç†è®º&quot;&gt;&lt;a href=&quot;#CAPç†è®º&quot; class=&quot;headerlink&quot; title=&quot;CAPç†è®º&quot;&gt;&lt;/a&gt;CAPç†è®º&lt;/h3&gt;&lt;p&gt;Consistencyï¼ˆä¸€è‡´æ€§ï¼‰ Availabilityï¼ˆå¯ç”¨æ€§ï¼‰ Partition toleranceï¼ˆåˆ†åŒºå®¹
      
    
    </summary>
    
      <category term="åˆ†å¸ƒå¼" scheme="http://yoursite.com/categories/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
    
      <category term="åˆ†å¸ƒå¼" scheme="http://yoursite.com/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>ç¼“å­˜æ›´æ–°çš„å¥—è·¯ æ€»ç»“ä¸æ„Ÿå—</title>
    <link href="http://yoursite.com/2019/08/21/%E7%BC%93%E5%AD%98%E6%9B%B4%E6%96%B0%E7%9A%84%E5%A5%97%E8%B7%AF-%E6%80%BB%E7%BB%93%E4%B8%8E%E6%84%9F%E5%8F%97/"/>
    <id>http://yoursite.com/2019/08/21/ç¼“å­˜æ›´æ–°çš„å¥—è·¯-æ€»ç»“ä¸æ„Ÿå—/</id>
    <published>2019-08-21T06:51:35.000Z</published>
    <updated>2019-08-21T06:57:48.631Z</updated>
    
    <content type="html"><![CDATA[<p><strong>æ³¨ï¼š</strong> æœ¬æ–‡æ˜¯é˜…è¯» [ç¼“å­˜æ›´æ–°çš„å¥—è·¯] (<a href="https://coolshell.cn/articles/17416.html" target="_blank" rel="noopener">https://coolshell.cn/articles/17416.html</a>) ä¸€æ–‡çš„æ€»ç»“ï¼Œæœ¬æ–‡æ˜¯ä»¥ç»å¸¸ç”¨åˆ°çš„Redis+MySQLçš„è§’åº¦è§£è¯»</p><h3 id="ç»å…¸æ–¹æ³•-â€“-Cache-Aside-Pattern"><a href="#ç»å…¸æ–¹æ³•-â€“-Cache-Aside-Pattern" class="headerlink" title="ç»å…¸æ–¹æ³• â€“ Cache Aside Pattern"></a>ç»å…¸æ–¹æ³• â€“ Cache Aside Pattern</h3><ul><li>è¯»æ“ä½œï¼šå…ˆä»Redisä¸­è·å–ï¼Œæ²¡æœ‰å‘½ä¸­åˆ™ä»MySQLä¸­è·å–ï¼Œæœ€åæ›´æ–°åˆ°Redisä¸­</li><li>å†™æ“ä½œï¼šå…ˆå†™MySQLï¼ŒæˆåŠŸååˆ é™¤Redisä¸­çš„æ•°æ®</li></ul><p>ä¸ºä»€ä¹ˆè¿™æ ·çš„æ–¹æ¡ˆä¼šæ˜¯ç»å…¸æ–¹æ³•å‘¢ï¼Ÿå› ä¸ºç®€å•ï¼Œæœ‰æ•ˆï¼Œé”™è¯¯å°‘</p><ul><li>åœºæ™¯1â€“å†™æ“ä½œå¦‚æœå…ˆåˆ é™¤Redisä¸­çš„æ•°æ®å†æ“ä½œæ•°æ®åº“<ul><li>å¦‚æœä¸€ä¸ªå†™æ“ä½œå’Œè¯»æ“ä½œå¹¶å‘æ‰§è¡Œï¼Œå†™æ“ä½œåˆ é™¤äº†Redisä¸­çš„æ•°æ®è¿˜æ²¡æ¥å¾—åŠå°†æ•°æ®æ›´æ–°åˆ°MySQLä¸­ï¼Œè¯»æ“ä½œæ²¡æœ‰åœ¨Redisä¸­è¯»å–åˆ°æ•°æ®ï¼Œè€Œä»MySQLä¸­è¯»åˆ°æ—§çš„æ•°æ®å¹¶æ›´æ–°åˆ°äº†Redisä¸­ï¼Œè¿™æ ·è™½ç„¶MySQLä¸­çš„æ•°æ®æ˜¯æ­£ç¡®çš„ï¼Œå› ä¸ºRedisçš„å­˜åœ¨ä½¿å¾—æ¯æ¬¡è¯»å–çš„æ•°æ®éƒ½æ˜¯è„æ•°æ®ã€‚ï¼ˆè¿™ç§æƒ…å†µåªä¼šå‘ç”Ÿåœ¨åˆ é™¤Redisæ•°æ®åï¼Œå†™MySQLå‰è¿™æ®µæ—¶é—´ï¼Œå› ä¸ºå†™MySQLæ—¶å¯ä»¥é€šè¿‡åŠ æ‚²è§‚é”æ¥é¿å…é—®é¢˜ï¼‰</li></ul></li><li>åœºæ™¯2â€“å†™æ“ä½œåå¢åŠ æ›´æ–°Redisæ•°æ®<ul><li>è¿™æ ·è¯»å’Œå†™çš„æ“ä½œéƒ½ä¼šæ›´æ–°Redisæ•°æ®çœ‹ä¼¼æ›´ç¨³å¥äº†ï¼Œå…¶å®ä¸ç„¶ï¼Œæ›´æ–°æ“ä½œå˜å¤šäº†è„æ•°æ®ä¹Ÿä¼šå˜å¤šï¼Œæ¯”å¦‚æœ‰ä¸¤ä¸ªå†™æ“ä½œaå’Œbï¼ŒæŒ‰ç…§è¯·æ±‚çš„æ—¶é—´æ¥è¯´æœ€ç»ˆçš„çŠ¶æ€åº”è¯¥æ˜¯bï¼Œæç«¯æƒ…å†µä¸‹abéƒ½å®Œæˆäº†æ›´æ–°æ•°æ®åº“çš„æ“ä½œï¼Œåœ¨æ›´æ–°Redisçš„æ—¶å€™ï¼Œbå…ˆå®Œæˆäº†ï¼Œéšåaå®Œæˆåˆå°†Redisæ•°æ®æ”¹æˆäº†açš„çŠ¶æ€ï¼Œè¿™æ ·è¿˜æ˜¯ä¼šå­˜åœ¨è„æ•°æ® ï¼Œè™½ç„¶å‡ºç°çš„æ¦‚ç‡ä¸å¤§ç›¸å¯¹äºç»å…¸æ–¹æ³•å¤šäº†äº§ç”Ÿè„æ•°æ®çš„å¯èƒ½æ€§ï¼Œæ‰€ä»¥ä¸å¯å–</li></ul></li><li>åœºæ™¯3â€“è„æ•°æ®<ul><li>ç»å…¸æ–¹æ³•å¯ä»¥é¿å…åœºæ™¯1å’Œ2çš„é—®é¢˜ï¼Œä½†ä¹Ÿä¸æ˜¯ä¸‡æ— ä¸€å¤±çš„ï¼Œå½“ä¸€ä¸ªè¯»æ“ä½œåœ¨Redisä¸­æ²¡æœ‰å‘½ä¸­æ—¶ï¼Œä»MySQLä¸­è·å–äº†æ•°æ®ï¼Œåœ¨æ›´æ–°Redisæ•°æ®ä¹‹å‰ï¼Œæœ‰ä¸€ä¸ªå†™æ“ä½œå®Œæˆï¼Œæ­¤æ—¶MySQLçš„æ•°æ®å·²ç»å˜äº†ï¼Œè€Œè¯»æ“ä½œä¼šæŠŠä¹‹å‰çš„æ•°æ®å†™å…¥Redisä¸­ï¼Œäº§ç”Ÿè„æ•°æ®ã€‚è€Œè¿™æ ·çš„åœºæ™¯å‘ç”Ÿçš„å‡ ç‡éå¸¸éå¸¸å°ï¼Œç”±äºMySQLé”çš„é™åˆ¶ï¼Œåªèƒ½å‘ç”Ÿåœ¨è¯»æ“ä½œè¯»å–æ•°æ®ä¹‹åè¯»æ“ä½œæ›´æ–°Redisæ•°æ®ä¹‹å‰ï¼Œå¹¶ä¸”è¿™æ®µæ—¶é—´æœ‰ä¸€ä¸ªå†™æ“ä½œå®Œæˆï¼ŒåŒæ ·å› ä¸ºé”çš„å­˜åœ¨å†™æ“ä½œä¸€èˆ¬éƒ½æ¯”è¯»æ“ä½œä¼šè€—æ—¶ï¼Œå¹¶ä¸”ç»™Redisæ•°æ®å¢åŠ è¿‡æœŸæ—¶é—´è¿›ä¸€æ­¥å‡å°è„æ•°æ®çš„äº§ç”Ÿå‡ ç‡</li></ul></li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼Œè™½ç„¶ç»å…¸æ–¹æ³•åœ¨åœºæ™¯3ç•¥æœ‰ç‘•ç–µï¼Œä½†ä¾ç„¶ç»å…¸å¯ç”¨ï¼Œå› ä¸ºå…¶ç®€å•ï¼Œæœ‰æ•ˆï¼Œé”™è¯¯å°‘</p><h3 id="Read-Write-Through-Pattern"><a href="#Read-Write-Through-Pattern" class="headerlink" title="Read/Write Through Pattern"></a>Read/Write Through Pattern</h3><ul><li>è¯»æ“ä½œï¼šRediså‘½ä¸­ç›´æ¥è¿”å›ï¼›æ²¡æœ‰å‘½ä¸­ä»MySQLä¸­è¯»å–åæ›´æ–°åˆ°Redisä¸­</li><li>å†™æ“ä½œï¼šRedisä¸­å‘½ä¸­æ›´æ–°Redisï¼›æ²¡æœ‰å‘½ä¸­æ›´æ–°MySQL</li></ul><p>è¿™ç§æ¨¡å¼å†™æ“ä½œåªé’ˆå¯¹äºä¸€ä¸ªæ•°æ®åº“ï¼ˆMySQLæˆ–è€…Redisï¼‰ï¼Œè¯»æ•°æ®æ—¶åœ¨Redisä¸­æ²¡æœ‰å‘½ä¸­ä¼šä»MySQLä¸­è¯»å–åˆ°Redisä¸­ï¼Œé•¿æ—¶é—´è¿è¡Œåå¤§éƒ¨åˆ†æ•°æ®éƒ½ä¼šåœ¨Redisä¸­å‘½ä¸­ï¼Œå†™æ“ä½œä¹Ÿä¼šé’ˆå¯¹äºRedisï¼Œç›¸å½“äºæ˜¯å¼ºä¾èµ–äºRedisï¼Œå¼±ä¾èµ–ç”šè‡³ä¸ä¾èµ–äºMySQLï¼Œè¿™ä¹ˆçœ‹æ¥è¿™ç§æ–¹å¼æ˜¯æœ€é«˜æ•ˆçš„ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªè‡´å‘½çš„ç¼ºç‚¹ï¼Œæ•°æ®å¯èƒ½ä¼šä¸¢å¤±ï¼Œç”±äºå¼ºä¾èµ–äºRedisä¸­çš„æ•°æ®ï¼ŒåŒæ ·å¼ºä¾èµ–äºRedisçš„é«˜å¯ç”¨æ€§ï¼Œå½“Redisçš„æ•°æ®ä¸¢å¤±æ²¡æœ‰å¾ˆå¥½çš„ç¾å¤‡çš„è¯ï¼Œæ•°æ®å°±æ²¡äº†ï¼Œè¿™æ—¶å¦‚æœæƒ³é€šè¿‡MySQLæ¢å¤å‡ ä¹æ˜¯ä¸å¯èƒ½çš„äº†ã€‚æ€»ç»“ä¸€ä¸‹ï¼Œè¿™ç§æ¨¡å¼æœ‰åˆ©æœ‰å¼Šï¼Œå…·ä½“ä½¿ç”¨åœºæ™¯éœ€è¦é’ˆå¯¹äºå…·ä½“çš„ä¸šåŠ¡åœºæ™¯ï¼Œæˆ‘è®¤ä¸ºå¦‚æœæœ‰æ¯”è¾ƒå¥½çš„Redisé«˜å¯ç”¨å’Œç¾å¤‡çš„ç­–ç•¥ï¼Œè¿™ç§æ¨¡å¼è¿˜æ˜¯éå¸¸å¥½ç”¨çš„ã€‚</p><h3 id="Write-Behind-Caching-Pattern"><a href="#Write-Behind-Caching-Pattern" class="headerlink" title="Write Behind Caching Pattern"></a>Write Behind Caching Pattern</h3><ul><li>è¯»æ“ä½œï¼šRediså‘½ä¸­ç›´æ¥è¿”å›ï¼›æ²¡æœ‰å‘½ä¸­åˆ™ä»MySQLä¸­è·å–æ•°æ®è¿”å›</li><li>å†™æ“ä½œï¼šæ— è®ºRediså‘½ä¸­ä¸å¦éƒ½å…ˆæ›´æ–°Redisï¼Œæ¥ç€å¼‚æ­¥æ›´æ–°MySQLä¸­çš„æ•°æ®</li></ul><p>åŸæ–‡ä¸­ä¹Ÿæåˆ°ï¼Œè¿™ä¹ˆåšä¼šæå¤§çš„æé«˜I/Oï¼Œç›¸å½“äºåªæ“ä½œäº†Redisï¼Œæ˜¯å†…å­˜çº§åˆ«çš„è¯»å†™ï¼ŒåŒæ—¶è¿™ä¹ˆåšä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå°±æ˜¯åœ¨åŒæ­¥æ•°æ®åˆ°MySQLæ—¶å¦‚æœæœåŠ¡å™¨å®•æœºæ–­ç”µç­‰äº‹æ•…å°†ä¼šæ°¸ä¹…æ€§çš„æ•°æ®ä¸¢å¤±</p><h3 id="ç²¾å½©è¯„è®º"><a href="#ç²¾å½©è¯„è®º" class="headerlink" title="ç²¾å½©è¯„è®º"></a>ç²¾å½©è¯„è®º</h3><p>æ‘˜å–äº†ä¸€äº›å¤§ä½¬ä»¬çš„è¯„è®ºï¼Œå¾ˆæœ‰å¯å‘</p><ul><li>ä¸€ä½åå« ty çš„å¤§ä½¬è¯´ï¼šâ€Cache Aside Patternæ¨¡å¼ï¼Œä¸¤ä¸ªæ›´æ–°æ“ä½œåŒæ—¶è¿›æ¥ï¼Œä¹Ÿå¯èƒ½ä¼šæœ‰cacheè„æ•°æ®çš„é—®é¢˜å•Š<br>é¡ºåºå¦‚ä¸‹ï¼š<br>ç¬¬ä¸€ä¸ªå†™æ•°æ®åº“ï¼Œç¬¬äºŒä¸ªå†™æ•°æ®åº“ï¼Œç¬¬äºŒä¸ªå†™cacheï¼Œç¬¬ä¸€ä¸ªå†™cache<br>è¿™æ ·cacheé‡Œæ˜¯ç¬¬ä¸€ä¸ªæ•°æ®ï¼Œè€Œæ•°æ®åº“é‡Œæ˜¯ç¬¬äºŒä¸ªâ€œ</li><li>â€”â€”â€“è¿™å’Œæˆ‘æƒ³çš„æ˜¯ä¸€æ ·çš„ï¼Œå“ˆå“ˆ</li></ul><hr><ul><li>ä¸€ä½åå« letsgowei çš„å¤§ä½¬è¯´ï¼šâ€åœ¨åšæ›´æ–°æ“ä½œæ—¶ä¸å¯ä»¥æ›´æ”¹æ•°æ®åº“åç›´æ¥æ›´æ–°ç¼“å­˜å—ï¼Ÿè¿™æ ·æœ€å¤šä¹Ÿå°±ä¸€ä¸¤æ¬¡è„æ•°æ®â€œ</li><li>â€”â€”â€“è¿™ä½å¤§ä½¬çš„ç–‘æƒ‘åº”è¯¥æ˜¯ä¸ºä»€ä¹ˆæ›´æ–°æ“ä½œåªæ˜¯åˆ é™¤ç¼“å­˜æˆ–è€…æŠŠç¼“å­˜è®¾ç½®ä¸ºæ— æ•ˆï¼Œè€Œä¸æ˜¯æ›´æ–°ç¼“å­˜å‘¢ï¼Ÿè¿˜æœ‰ä¸€ä½è¯„è®ºæœ‰åŒæ ·çš„ç–‘æƒ‘ï¼›è¿™ä¸ªé—®é¢˜æˆ‘æ²¡æœ‰è€ƒè™‘åˆ°ï¼Œè§‰å¾—ä»–ä»¬è¯´çš„æœ‰é“ç†ç›´æ¥æ›´æ–°ä¹Ÿå¯ä»¥å•Šï¼Ÿ</li><li>ä¸€ä½åå« longsen çš„å¤§ä½¬åšå‡ºäº†è§£ç­”ï¼šâ€1. è¯»çº¿ç¨‹æŸ¥keyæœªåœ¨cacheä¸­ï¼›2.è¯»çº¿ç¨‹ä»dbè¯»æ•°æ®ï¼›3.å†™çº¿ç¨‹æ›´æ”¹æ•°æ®åº“ï¼›4.å†™çº¿ç¨‹çœ‹keyæœªåœ¨cacheä¸­ï¼Œæ— æ³•æ›´æ–°cacheï¼›5.è¯»çº¿ç¨‹å°†æ—§æ•°æ®å†™å…¥cacheä¸­ã€‚è¿™ç§åœºæ™¯æ—§æ•°æ®å¯èƒ½åœ¨cacheå­˜åœ¨å¾ˆé•¿æ—¶é—´â€œ</li><li>â€”â€”â€“å¤§ä½¬ç»™å‡ºçš„è§£é‡Šæ˜¯cacheä¸­æ²¡æœ‰keyæ— æ³•æ›´æ–°ï¼ŒI donâ€™t think soï¼è‡³å°‘åœ¨Redisçš„ç¯å¢ƒä¸‹æ˜¯ä¸å­˜åœ¨çš„ï¼Œkeyä¸å­˜åœ¨ç›´æ¥setï¼Œkeyå­˜åœ¨ç›´æ¥è¦†ç›–ï¼ŒRedisæ˜¯æœ‰è¿™æ ·çš„å‘½ä»¤çš„ï¼Œæ‰€ä»¥è¿™ä¸ªå›ç­”æˆ‘ä¸åŒæ„ï¼Œå¦‚æœå°†å†™MySQLåå°†Redisä¸­çš„keyåˆ é™¤çš„æ“ä½œï¼Œæ”¹æˆæ›´æ–°Redisçš„Keyæ“ä½œï¼Œè¿™æ ·ä¸€æ¥å°±å’Œæˆ‘ä¸Šé¢æåˆ°çš„åœºæ™¯2æ˜¯ä¸€æ ·çš„çš„äº†ï¼Œè¯»å†™éƒ½æ›´æ–°Rediså¢åŠ äº†äº§ç”Ÿè„æ•°æ®çš„æ¦‚ç‡ï¼Œæ‰€ä»¥æ˜¯ä¸å¯å–çš„</li></ul><hr><ul><li>ä¸€ä½åå« æ³ªæ»´ çš„å¤§ä½¬è¯´ï¼šâ€å¤§ç¥ï¼ä½ çš„è¿™ä¸ªæ›´æ–°é¡ºåºæ˜¯å»ºç«‹åœ¨æ›´æ–°æ•°æ®åº“ï¼Œæ›´æ–°ç¼“å­˜éƒ½ä¸ä¼šå‘ç”Ÿå¤±è´¥çš„æƒ…å†µä¸‹çš„ï¼Œå•ç‹¬è€ƒè™‘å¹¶å‘é—®é¢˜å¾—åˆ°çš„é¡ºåºï¼<br>æ–¹æ¡ˆ1ï¼šå…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜ï¼Œå½“å‡ºç°å¹¶å‘é—®é¢˜æ¦‚ç‡å¾ˆå°(å‡è®¾æ¦‚ç‡ä¸ºR1)ï¼Œä¼šé€ æˆè„æ•°æ®ã€‚å½“å‡ºç°ç½‘ç»œç­‰é—®é¢˜å¯¼è‡´åˆ é™¤ç¼“å­˜å¤±è´¥(å‡è®¾æ¦‚ç‡ä¸ºR2)ï¼Œä¼šå¯¼è‡´ä¹‹åçš„è¯·æ±‚ä¸€ç›´æ˜¯è„æ•°æ®ã€‚<br>æ–¹æ¡ˆ2ï¼šå…ˆåˆ é™¤ç¼“å­˜ï¼Œå†æ›´æ–°æ•°æ®åº“ï¼Œå½“å‡ºç°å¹¶å‘é—®é¢˜æ¦‚ç‡è¾ƒå¤§(å‡è®¾æ¦‚ç‡ä¸ºR3)ï¼Œä¼šå¯¼è‡´ä¹‹åçš„è¯·æ±‚ä¸€ç›´æ˜¯è„æ•°æ®ï¼Œå½“å‡ºç°ç½‘ç»œé—®é¢˜ï¼Œåˆ é™¤ç¼“å­˜æˆåŠŸï¼Œæ›´æ–°æ•°æ®åº“å¤±è´¥ï¼Œåªä¼šå¼•å‘ä¸€æ¬¡cache missï¼Œåœ¨ä¸šåŠ¡ä¸ŠåŸºæœ¬æ²¡å•¥å½±å“ã€‚å½“ç„¶ä¸ºäº†å¼¥è¡¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šè®¾ç½®ç¼“å­˜çš„è¿‡æœŸæ—¶é—´ï¼Œæ¥ç¼©çŸ­å‡ºç°è„æ•°æ®çš„æ—¶é—´ã€‚ç°åœ¨é—®é¢˜çš„å…³é”®å°±æ˜¯R1+R2å’ŒR3çš„å¤§å°é—®é¢˜äº†ï¼Œå¦‚æœå¤§å‚ï¼Œç½‘ç»œåŸºç¡€è®¾æ–½å•¥çš„æ¯”è¾ƒç‰›ï¼Œå½“ç„¶R1+R2&lt;R3é€‰æ‹©æ–¹æ¡ˆ1æ¯”è¾ƒåˆé€‚ï¼Œå¯¹äºå¹¿å¤§å°å‚æ¥è¯´è¿˜çœŸçš„å¯èƒ½R1+R2&gt;R3é‚£æ€ä¹ˆé€‰æ‹©ï¼Œå°±æ¯”è¾ƒæ¸…æ¥šäº†ã€‚â€œ</li><li>â€”â€”â€“è¯´å®è¯ï¼Œä»–çš„è¯„è®ºè®©æˆ‘çœ¼å‰ä¸€äº®ï¼Œä»–çš„åˆ†æå…·ä½“åˆ°äº†åº”ç”¨åœºæ™¯ä¸Šï¼Œè€Œä¸”ç¡®å®æœ‰è¿™æ ·çš„æƒ…å†µå‡ºç°ï¼Œæ‰€ä»¥è¯´æ²¡æœ‰æœ€å®Œç¾çš„è®¾è®¡åªæœ‰æœ€åˆé€‚çš„è®¾è®¡ï¼Œç»™è¿™ä½å¤§ä½¬ç‚¹èµ</li></ul><hr><ul><li>è¿˜æœ‰ä¸€äº›åˆ™æ˜¯é’ˆå¯¹äºåŸæ–‡ä¸­Write Behind Caching Patternéƒ¨åˆ†çš„æµç¨‹å›¾çš„ç–‘é—®ï¼Œä¾‹å¦‚ç¼“å­˜æœªå‘½ä¸­ä¸ºä»€ä¹ˆå›å†™æ•°æ®å†æ›´æ–°æ•°æ®ï¼Œç›´æ¥æ›´æ–°æ•°æ®ä¸å°±å¥½äº†å—ï¼Ÿå†™æ•°æ®æœªå‘½ä¸­ä¸ºä»€ä¹ˆè¿˜æœ‰åˆ¤æ–­dirtyçš„æ ‡å¿—ï¼Ÿç­‰ç­‰ï¼Œè¿™äº›é—®é¢˜æˆ‘ä¹Ÿä¸æ‡‚ï¼Œäº‘é‡Œé›¾é‡Œçš„ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ï¼Œä¸å°±æ˜¯å¼‚æ­¥æ›´æ–°MySQLå—ï¼Œæè¿™ä¹ˆå¤æ‚æ˜¯ä¸ºä»€ä¹ˆï¼Œåæ¥æˆ‘å†·é™çš„åˆ†æä¸€ä¸‹ï¼Œè¿™ç¯‡æ–‡ç« æ˜¯ç¼“å­˜æ›´æ–°çš„å¥—è·¯ï¼Œå½“å‰éƒ¨åˆ†æ˜¯ç¼“å­˜å¼‚æ­¥æ›´æ–°MySQLçš„ä»‹ç»ï¼Œè€Œæµç¨‹å›¾å’Œå¼‚æ­¥åŠæ¯›é’±å…³ç³»éƒ½æ²¡æœ‰ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</li><li>â€”â€”â€“å› ä¸ºæˆ‘å¤ªåƒåœ¾äº†ï¼Œæ–‡ç« ä¸­ xxPattern æŒ‡çš„æ˜¯Linuxå†…æ ¸ä¸­çš„ç¼“å­˜æ›´æ–°æ¨¡å¼ï¼Œä½œè€…æ˜¯å°†è¿™äº›æ¨¡å¼åº”ç”¨åˆ°åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ç¼“å­˜æ›´æ–°ä¸­ï¼Œæ‰€ä»¥è¯´è¿™éƒ¨åˆ†çš„æµç¨‹å›¾æ˜¯æŒ‡Linuxå†…æ ¸çš„ç¼“å­˜æ›´æ–°è€Œä¸æ˜¯åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„ç¼“å­˜æ›´æ–°ï¼Œä½œè€…åœ¨æ–‡ç« ä¸­ä¸æ­¢ä¸€æ¬¡æåˆ°äº†åŸºç¡€å¾ˆé‡è¦å°±ä½“ç°å‡ºæ¥äº†ï¼Œè€Œä¸”ä½œè€…ä¹Ÿæåˆ°å®è§‚çš„ç³»ç»Ÿæ¶æ„è®¾è®¡å…¶å®å’Œè®¡ç®—æœºç³»ç»Ÿç»“æ„ä¸­å¾®è§‚çš„è®¾è®¡æ˜¯ç›¸ä¼¼çš„ï¼Œæ‰€ä»¥æƒ³è¦è®¾è®¡å¥½ä¸€ä¸ªå¤§å‹çš„åˆ†å¸ƒå¼ç³»ç»Ÿå¿…é¡»å¯¹è®¡ç®—æœºç³»ç»Ÿç»“æ„éå¸¸äº†è§£</li></ul><hr><p>ç»¼ä¸Šæ‰€è¿°â€“åŸºç¡€å¾ˆé‡è¦</p><p>ä»¥ä¸Šæ˜¯æˆ‘æ‹œè¯»è€—å­å“¥çš„<a href="https://coolshell.cn/articles/17416.html" target="_blank" rel="noopener">ã€Šç¼“å­˜æ›´æ–°çš„å¥—è·¯ã€‹</a>ä¸€æ–‡åçš„ä¸€äº›æ€»ç»“å’Œæ€è€ƒï¼Œæ¨èå¤§å®¶è¯»åŸæ–‡å“¦ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;æ³¨ï¼š&lt;/strong&gt; æœ¬æ–‡æ˜¯é˜…è¯» [ç¼“å­˜æ›´æ–°çš„å¥—è·¯] (&lt;a href=&quot;https://coolshell.cn/articles/17416.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://coolshell.
      
    
    </summary>
    
    
      <category term="Redis" scheme="http://yoursite.com/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€æ¬¡Springäº‹åŠ¡ä¸å›æ»šçš„è¸©å‘è®°å½•</title>
    <link href="http://yoursite.com/2019/08/16/%E4%B8%80%E6%AC%A1Spring%E4%BA%8B%E5%8A%A1%E4%B8%8D%E5%9B%9E%E6%BB%9A%E7%9A%84%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/"/>
    <id>http://yoursite.com/2019/08/16/ä¸€æ¬¡Springäº‹åŠ¡ä¸å›æ»šçš„è¸©å‘è®°å½•/</id>
    <published>2019-08-16T13:01:13.000Z</published>
    <updated>2019-08-16T13:02:23.912Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸€æ¬¡Springäº‹åŠ¡ä¸å›æ»šçš„è¸©å‘è®°å½•"><a href="#ä¸€æ¬¡Springäº‹åŠ¡ä¸å›æ»šçš„è¸©å‘è®°å½•" class="headerlink" title="ä¸€æ¬¡Springäº‹åŠ¡ä¸å›æ»šçš„è¸©å‘è®°å½•"></a>ä¸€æ¬¡Springäº‹åŠ¡ä¸å›æ»šçš„è¸©å‘è®°å½•</h3><p>Springäº‹åŠ¡ä¸å›æ»šå…«æˆæ˜¯ä¸çŸ¥é“Springé»˜è®¤åœ¨æ•è·åˆ°uncheckedå¼‚å¸¸æ‰ä¼šè‡ªåŠ¨å›æ»šï¼Œç„¶è€Œæˆ‘æ—©å·²è¸©è¿‡ä¸ªå‘ï¼Œæ˜¯ä¸€ä¸ªæœ‰ç»éªŒçš„äººï¼Œå½“æˆ‘è‡ªä¿¡æ»¡æ»¡çš„åŠ ä¸Šä¸€è¡Œ 1/0ï¼Œå¹¶åœ¨catchä¸­ throw new RuntimeExceptionï¼Œdebugä¹‹åæˆ‘æ‡µäº†ï¼Œå’‹ä¸å›æ»šå‘¢ï¼Ÿé‡å¯Tomcatï¼Œæµè§ˆå™¨ç¼“å­˜æ¸…ç†ä¹‹åå†è¯•ä¸€æ¬¡ï¼Œè¿˜æ˜¯ä¸è¡Œï¼ï¼ï¼æˆ‘å°±éš¾å—äº†ï¼Œè¿™å’Œæˆ‘é¢„æƒ³çš„ä¸ä¸€æ ·ï¼Œæ£€æŸ¥ä»£ç æ²¡æœ‰å‘ç°é”™è¯¯ï¼Œé‚£å’‹åŠå‘¢ï¼Ÿå¼€å§‹ç™¾åº¦å§ï¼Œç™¾åº¦çš„ç»“æœåƒç¯‡ä¸€å¾‹ï¼Œéƒ½æ˜¯é’ˆå¯¹ä¸äº†è§£Springé»˜è®¤æ•è·uncheckedå¼‚å¸¸çš„è§£å†³åŠæ³•ï¼Œè¿™äº›æ—©å·²åœ¨æˆ‘çš„ç»éªŒé‡Œäº†ï¼Œæœ‰3ç§æ–¹æ³•</p><ul><li>1.æ‰‹åŠ¨æŠ›å‡ºuncheckedå¼‚å¸¸ï¼Œè®©Springå»æ•è·ï¼Œç„¶åè‡ªåŠ¨å›æ»šæ•°æ®</li><li>2.æ‰‹åŠ¨å›æ»šï¼Œåœ¨å‘ç”Ÿå¼‚å¸¸çš„åœ°æ–¹æ·»åŠ ä»£ç  <strong>TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();</strong></li><li>3.åœ¨æ³¨è§£çš„åœ°æ–¹æ·»åŠ é…ç½®<strong>rollbackFor = { Exception.class }</strong>ï¼Œè®©Springåœ¨æ•è·åˆ°ç‰¹å®šçš„å¼‚å¸¸è‡ªåŠ¨å›æ»šæ•°æ® </li></ul><p>3ç§æ–¹æ³•æˆ‘éƒ½çŸ¥é“ï¼Œä½†æ˜¯æˆ‘ä¸€èˆ¬åªç”¨ç¬¬ä¸€ç§ï¼Œå› ä¸ºç®€å•ï¼Œè¿™æ¬¡æˆ‘é€‰æ‹©ç”¨ç¬¬äºŒç§æ–¹æ³•è¯•ä¸‹ï¼Œç«Ÿç„¶æ²¡é—®é¢˜äº†ï¼Œæˆ‘æ„è¯†åˆ°æ˜¯æˆ‘çš„é—®é¢˜äº†ï¼Œå¼€å§‹æ£€æŸ¥ä»£ç ï¼Œæˆ‘çš„ä»£ç é€»è¾‘å¦‚ä¸‹ï¼ˆè§ç¬‘ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">boolean result = false;</span><br><span class="line">try &#123;</span><br><span class="line">    // ...ä¸šåŠ¡é€»è¾‘</span><br><span class="line">    System.out.println(1/0);</span><br><span class="line">    // ...ä¸šåŠ¡é€»è¾‘</span><br><span class="line">    result = true;</span><br><span class="line">&#125; catch (Exception e) &#123;</span><br><span class="line">    LOGGER.error(e.getMessage(), e);</span><br><span class="line">    // rollback</span><br><span class="line">    throw new RuntimeException(e);</span><br><span class="line">    result = false;</span><br><span class="line">&#125; finally &#123;</span><br><span class="line">return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜æ˜¯ä¸çŸ¥é“é”™åœ¨å“ªé‡Œï¼Œæ²¡æœ‰åŠæ³•å¼€å§‹Debugï¼ŒæƒŠå¥‡çš„å‘ç°RuntimeExceptionç«Ÿç„¶è¢«å¿½ç•¥äº†ï¼Œè¿™æ‰å‘ç°æˆ‘finallyä¸­æœ‰returnï¼Œè¢«æˆ‘è‡ªå·±è ¢å“­äº†ï¼ŒåŸºç¡€çœŸæ˜¯å¤ªé‡è¦äº†ï¼Œæˆ‘è¿˜ç›²ç›®è‡ªä¿¡çš„çŸ¥é“Springçš„äº‹åŠ¡å¦‚ä½•ä½¿ç”¨ï¼Œåˆ°å¤´æ¥è¿try catch finallyéƒ½æ²¡ææ¸…æ¥šï¼ŒçœŸæ˜¯å¤ªè ¢äº†ã€‚æ¥ç€æˆ‘ä¿®æ”¹äº†ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">boolean result = false;</span><br><span class="line">try &#123;</span><br><span class="line">    // ...ä¸šåŠ¡é€»è¾‘</span><br><span class="line">    System.out.println(1/0);</span><br><span class="line">    // ...ä¸šåŠ¡é€»è¾‘</span><br><span class="line">    result = true;</span><br><span class="line">&#125; catch (Exception e) &#123;</span><br><span class="line">    LOGGER.error(e.getMessage(), e);</span><br><span class="line">    // rollback</span><br><span class="line">    throw new RuntimeException(e);</span><br><span class="line">&#125; </span><br><span class="line">return result;</span><br></pre></td></tr></table></figure><p>è¿™ä¸‹ç¡®å®æ˜¯å›æ»šäº†ï¼Œä½†æ˜¯è¿”å›å€¼æ˜¯trueï¼Œæƒ³å¾—åˆ°çš„æ—¶falseï¼Œè¿™åˆéš¾å—äº†ï¼Œå†æ¬¡Debugï¼Œå¾ˆå¤šæ¬¡F6åæˆ‘æ˜ç™½äº†ï¼ŒRuntimeExceptionæ˜¯è¢«Springæ¡†æ¶é‡Œçš„å±‚å±‚ä»£ç†catchäº†â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>æˆ‘æŠŠæˆ‘è‡ªå·±ç»™éª—äº†ï¼ŒRuntimeExceptionæŠ›å‡ºç¨‹åºå·²ç»ç»ˆæ­¢äº†ï¼Œå³ä½¿å†å¤šçš„catchæœ€åä¹Ÿä¸ä¼šå›åˆ°result = trueé‚£ä¸€è¡Œï¼Œæœ€ç»ˆå¾—å‡ºåŸå› æ˜¯å…¶ä»–ajaxè¯·æ±‚çš„ç»“æœè¿”å›åˆ°äº†å‰å°ç»™çš„æç¤ºè®©æˆ‘è¯¯è§£äº†</p><hr><p>åˆ°è¿™é‡Œæˆ‘æ„è¯†åˆ°è‡ªå·±æ˜¯çœŸçš„èœï¼Œè¡¥ä¹ ä¸€ä¸‹try catch finallyå§<br>æ‰¾åˆ°<a href="https://blog.csdn.net/mxd446814583/article/details/80355572" target="_blank" rel="noopener">ä¸€ç¯‡å¥½æ–‡</a></p><h3 id="æ€»ç»“ä¸€ä¸‹"><a href="#æ€»ç»“ä¸€ä¸‹" class="headerlink" title="æ€»ç»“ä¸€ä¸‹"></a>æ€»ç»“ä¸€ä¸‹</h3><ul><li>å¦‚æœfinallyä¸­æœ‰returnï¼Œtryå’Œcatchä¸­çš„returnä¼šå¤±æ•ˆï¼Œå¹¶ä¸”<strong>catchä¸­å³ä½¿æŠ›å‡ºuncheckedå¼‚å¸¸ä¹ŸåŒæ ·ä¼šå¤±æ•ˆ</strong>ï¼ˆè¿™æ˜¯ä»Šå¤©è¸©çš„å‘ï¼‰ï¼›å¦‚æœfinallyä¸­æœ‰å¼‚å¸¸ç›¸å½“äºæ•´ä¸ªæ–¹æ³•æœ‰äº†å¼‚å¸¸ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰æœ€ç»ˆçš„è¿”å›å€¼äº†,catchä¸­æœ‰äº†å¼‚å¸¸åŒæ ·çš„æ•ˆæœï¼Œæ‰€ä»¥catchå’Œfinallyä¸­ä¸è¦å‡ºç°å¼‚å¸¸</li><li>å¦‚æœfinallyä¸­æ²¡æœ‰returnï¼Œtryå’Œcatchä¸­èµ°æœ€å…ˆåˆ°è¾¾returné€»è¾‘çš„åœ°æ–¹ï¼Œå¹¶ä¸”åœ¨returnå‰å°†è¿”å›å€¼æš‚å­˜ï¼Œå³ä½¿finallyä¸­ä¿®æ”¹ä¹Ÿä¸ä¼šæœ‰æ•ˆæœï¼›ï¼ˆä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰å¼‚å¸¸æœ€å…ˆåˆ°è¾¾tryå—ä¸­çš„returnï¼Œè¿”å›å€¼æ˜¯tryå—çš„è¿”å›å€¼ï¼Œcatchå’Œfinallyä¿®æ”¹ä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼›å¦‚æœtryå—æœ‰å¼‚å¸¸æœ€å…ˆåˆ°è¾¾catchå—ä¸­çš„returnï¼Œè¿”å›å€¼æ˜¯catchå—çš„è¿”å›å€¼ï¼Œå‰ææ˜¯catchå—ä¸­æ²¡æœ‰å¼‚å¸¸ï¼Œæœ‰å¼‚å¸¸æ•´ä¸ªæ–¹æ³•éƒ½æ²¡æœ‰è¿”å›å€¼ï¼‰</li><li>ç»¼ä¸Šæ‰€è¿°ï¼Œ<strong>ä½¿ç”¨Springäº‹åŠ¡é¿å…ä¸å‡ºé”™ä¼˜å…ˆä½¿ç”¨æ–¹æ³•2å’Œæ–¹æ³•3ï¼Œæ–¹æ³•1æ¯”è¾ƒç»•å¹¶ä¸”å¯¹æœ‰è¿”å›å€¼çš„é€»è¾‘ä¸æ˜¯å¾ˆå‹å¥½ï¼›finallyå—ä¸­å°½é‡ä¸è¦returnï¼Œè¿™æ ·ä¼šå¿½ç•¥tryå’Œcatchä¸­çš„å¼‚å¸¸ï¼›æœ€åï¼ŒåŸºç¡€çœŸçš„å¾ˆé‡è¦</strong></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;ä¸€æ¬¡Springäº‹åŠ¡ä¸å›æ»šçš„è¸©å‘è®°å½•&quot;&gt;&lt;a href=&quot;#ä¸€æ¬¡Springäº‹åŠ¡ä¸å›æ»šçš„è¸©å‘è®°å½•&quot; class=&quot;headerlink&quot; title=&quot;ä¸€æ¬¡Springäº‹åŠ¡ä¸å›æ»šçš„è¸©å‘è®°å½•&quot;&gt;&lt;/a&gt;ä¸€æ¬¡Springäº‹åŠ¡ä¸å›æ»šçš„è¸©å‘è®°å½•&lt;/h3&gt;&lt;p&gt;Spring
      
    
    </summary>
    
    
      <category term="Spring" scheme="http://yoursite.com/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Optional ä½¿ç”¨åŠæºç </title>
    <link href="http://yoursite.com/2019/08/15/Optional/"/>
    <id>http://yoursite.com/2019/08/15/Optional/</id>
    <published>2019-08-15T12:58:37.000Z</published>
    <updated>2019-08-15T13:12:43.215Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Optional-ä½¿ç”¨åŠæºç åˆ†æ"><a href="#Optional-ä½¿ç”¨åŠæºç åˆ†æ" class="headerlink" title="Optional ä½¿ç”¨åŠæºç åˆ†æ"></a>Optional ä½¿ç”¨åŠæºç åˆ†æ</h3><p>A container object which may or may not contain a non-null value.</p><p>å¯èƒ½åŒ…å«ç©ºå€¼çš„å®¹å™¨å¯¹è±¡ã€‚</p><p>æ€ä¹ˆç†è§£å‘¢ï¼Ÿå°±æŠŠå®ƒå½“æˆæ˜¯å’ŒCollectionä¸€æ ·çš„å®¹å™¨ï¼ŒCollectionæ˜¯é€šè¿‡ä¸åŒçš„æ•°æ®ç»“æ„å’ŒAPIæ¥æ“ä½œå®¹å™¨ä¸­çš„å…ƒç´ ï¼›Optionalåˆ™æ˜¯æä¾›APIæ¥åˆ¤æ–­å®¹å™¨ä¸­çš„å…ƒç´ æ˜¯å¦ä¸ºç©ºï¼Œåœ¨æ­¤åŸºç¡€ä¸Šè¿˜èƒ½æ ¹æ®æ˜¯å¦ä¸ºç©ºçš„ä¸åŒç»“æœç»™å‡ºè‡ªå®šä¹‰çš„å¤„ç†é€»è¾‘ã€‚è¿™ä¹ˆè¯´è¿˜æ˜¯å¾ˆæŠ½è±¡ï¼Œç›´æ¥ä¸Šæºç å°±ä¼šå¥½ç†è§£ä¸€äº›ã€‚</p><h4 id="æˆå‘˜å˜é‡"><a href="#æˆå‘˜å˜é‡" class="headerlink" title="æˆå‘˜å˜é‡"></a>æˆå‘˜å˜é‡</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// ç©ºçš„Optionalå¯¹è±¡</span><br><span class="line">private static final Optional&lt;?&gt; EMPTY = new Optional&lt;&gt;();</span><br><span class="line">// å®¹å™¨ä¸­å…ƒç´ çš„å€¼</span><br><span class="line">private final T value;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªvalueæ˜¯å®¹å™¨ä¸­å…ƒç´ çš„å€¼ï¼Œæ€ä¹ˆç†è§£å‘¢ï¼Œä½¿ç”¨Optionalæ˜¯è¦é€šè¿‡å®ƒçš„APIè¿›è¡Œåˆ¤ç©ºæ¥è¾¾åˆ°é¿å…NPEçš„ç°è±¡ï¼Œä¸Šé¢è¯´åˆ°å°†Optionalå½“æˆæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨ä¸­çš„å…ƒç´ åˆ™æ˜¯éœ€è¦åˆ¤ç©ºçš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´å®¹å™¨ä¸­çš„å…ƒç´ å°±æ˜¯ä½ ä¼ å…¥çš„å‚æ•°ï¼Œè¿™ä¸ªvalueå°±æ˜¯ä¼ å‚çš„å€¼</p><h4 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h4><p>æ— å‚æ„é€ ï¼Œåªæ˜¯å°†valueç½®ä¸ºnull</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">private Optional() &#123;</span><br><span class="line">        this.value = null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ‰å‚æ„é€ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">private Optional(T value) &#123;</span><br><span class="line">    this.value = Objects.requireNonNull(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­è¿”å›Objectsä¸­çš„requireNonNullçš„æ–¹æ³•ï¼Œå†çœ‹è¿™ä¸ªæ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public static &lt;T&gt; T requireNonNull(T obj) &#123;</span><br><span class="line">    if (obj == null)</span><br><span class="line">        throw new NullPointerException();</span><br><span class="line">    return obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¾ˆç®€å•å¦‚æœobjä¸ºç©ºæŠ›å‡ºå¼‚å¸¸ï¼Œä¸ä¸ºç©ºè¿”å›æœ¬èº«ï¼Œæ‰€ä»¥æœ‰å‚æ„é€ çš„æ•ˆæœå°±æ˜¯ç¡®è®¤valueä¸ä¸ºç©ºå¹¶ç»™valueèµ‹å€¼ï¼Œå¦‚æœæ˜¯ç©ºå°±æŠ›å¼‚å¸¸</p><p>è€Œä¸”è¿™ä¸¤ä¸ªæ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸èƒ½newå‡ºæ¥</p><h4 id="ä¸»è¦æ–¹æ³•"><a href="#ä¸»è¦æ–¹æ³•" class="headerlink" title="ä¸»è¦æ–¹æ³•"></a>ä¸»è¦æ–¹æ³•</h4><ul><li>empty()â€“è¿”å›ç©ºçš„Optionalå¯¹è±¡</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public static &lt;T&gt; Optional&lt;T&gt; empty() &#123;</span><br><span class="line">    Optional var0 = EMPTY;</span><br><span class="line">    return var0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>of(T var1)â€“è°ƒç”¨äº†æœ‰å‚æ„é€ ï¼Œå³æœ‰å€¼è¿”å›å¸¦æœ‰è¯¥å€¼å¾—Optionalå¯¹è±¡ï¼Œä¸ºç©ºåˆ™ä¼šæŠ›å¼‚å¸¸</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public static &lt;T&gt; Optional&lt;T&gt; of(T var0) &#123;</span><br><span class="line">    return new Optional(var0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ofNullable(T var0)â€“å…ƒç´ ä¸ºnullè¿”å›ç©ºçš„Optionå¯¹è±¡ï¼Œä¸æ˜¯nullè¿”å›æœ¬èº«</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public static &lt;T&gt; Optional&lt;T&gt; ofNullable(T var0) &#123;</span><br><span class="line">    return var0 == null ? empty() : of(var0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>get()â€“ä»åå­—å°±å¯ä»¥çœ‹å‡ºæ˜¯è·å–å…ƒç´ çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¿”å›valueï¼Œå¦‚æœæ˜¯nullçš„è¯ä¼šæŠ›å¼‚å¸¸</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public T get() &#123;</span><br><span class="line">    if (this.value == null) &#123;</span><br><span class="line">        throw new NoSuchElementException(&quot;No value present&quot;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return this.value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>isPresent()â€“è¿”å›valueæ˜¯å¦ä¸ºnull</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public boolean isPresent() &#123;</span><br><span class="line">    return this.value != null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ifPresent(Consumer&lt;? super T&gt; var)â€“å¦‚æœå…ƒç´ ä¸æ˜¯ç©ºçš„è¯æ‰§è¡Œvar1ä¸­çš„é€»è¾‘ï¼ŒConsumerä¹‹å‰æœ‰æ–‡ç« å†™è¿‡ï¼Œæ˜¯æ¥æ”¶ä¸€ä¸ªå‚æ•°æ‰§è¡Œä¸€ä¸ªæ²¡æœ‰è¿”å›å€¼å¾—é€»è¾‘</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public void ifPresent(Consumer&lt;? super T&gt; var1) &#123;</span><br><span class="line">if (this.value != null) &#123;</span><br><span class="line">    var1.accept(this.value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>filter(Predicate&lt;? super T&gt; var1)â€“é¦–å…ˆç¡®ä¿predicateå¯¹è±¡å’Œvalueä¸æ˜¯nullï¼Œç„¶åç”¨predicateå¯¹è±¡å¯¹valueè¿›è¡Œç­›é€‰ï¼Œæ»¡è¶³æ¡ä»¶è¿”å›æœ¬èº«ï¼Œä¸æ»¡è¶³æ¡ä»¶è¿”å›ç©ºçš„å¯¹è±¡ï¼ˆçœ‹æºç æ˜¯è¿™ä¸ªæ„æ€ï¼Œå…·ä½“æ€ä»€ä¹ˆæƒ…å†µç”¨è¿˜æƒ³ä¸åˆ°~ï¼‰</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public Optional&lt;T&gt; filter(Predicate&lt;? super T&gt; var1) &#123;</span><br><span class="line">    Objects.requireNonNull(var1);</span><br><span class="line">    if (!this.isPresent()) &#123;</span><br><span class="line">        return this;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return var1.test(this.value) ? this : empty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>map(Function&lt;? super T, ? extends U&gt; var1)â€“åŒæ ·ç¡®ä¿var1ä¸æ˜¯nullï¼Œä¹‹åvalueä¸ºç©ºå€¼è¿”å›ç©ºçš„Optionalå¯¹è±¡ï¼Œvalueæœ‰å€¼æ‰§è¡Œvar1ä¸­çš„é€»è¾‘</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public &lt;U&gt; Optional&lt;U&gt; map(Function&lt;? super T, ? extends U&gt; var1) &#123;</span><br><span class="line">    Objects.requireNonNull(var1);</span><br><span class="line">    return !this.isPresent() ? empty() : ofNullable(var1.apply(this.value));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>flatMap(Function&lt;? super T, Optional&lt; U &gt;&gt; var1)â€“ä¸mapæ–¹æ³•ç›¸åŒ,ä¸åŒçš„æ˜¯å…¥å‚ï¼Œæ ¹æ®ä¸åŒçš„å‚æ•°ç»“æ„ä½¿ç”¨ä¸åŒçš„æ–¹æ³•</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public &lt;U&gt; Optional&lt;U&gt; flatMap(Function&lt;? super T, Optional&lt;U&gt;&gt; var1) &#123;</span><br><span class="line">    Objects.requireNonNull(var1);</span><br><span class="line">    return !this.isPresent() ? empty() : (Optional)Objects.requireNonNull(var1.apply(this.value));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>T orElse(T var1)â€“è·å–valueçš„å€¼ï¼Œä¸ä¸ºç©ºè¿”å›æœ¬èº«ï¼Œä¸ºç©ºè¿”å›å…¥å‚var1</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public T orElse(T var1) &#123;</span><br><span class="line">    return this.value != null ? this.value : var1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>T orElseGet(Supplier&lt;? extends T&gt; var1)â€“ä¸orElseçš„é€»è¾‘ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯valueä¸ºç©ºè¿”å›çš„æ˜¯supplierå¯¹è±¡çš„é€»è¾‘</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public T orElseGet(Supplier&lt;? extends T&gt; var1) &#123;</span><br><span class="line">    return this.value != null ? this.value : var1.get();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>T orElseThrow(Supplier&lt;? extends X&gt; var1)â€“åŒæ ·çš„é€»è¾‘ï¼Œä¸åŒçš„æ˜¯valueä¸ºnullä¼šæŠ›å¼‚å¸¸</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public &lt;X extends Throwable&gt; T orElseThrow(Supplier&lt;? extends X&gt; var1) throws X &#123;</span><br><span class="line">    if (this.value != null) &#123;</span><br><span class="line">        return this.value;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        throw (Throwable)var1.get();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul><li>ofå’ŒofNullable<ul><li>éƒ½æ˜¯å–å€¼ï¼Œå¦‚æœå…ƒç´ æ˜¯nullçš„è¯ofä¼šæŠ¥ç©ºæŒ‡é’ˆâ€“ä¸ç”¨ï¼ŒofNullableå°†nullè½¬ä¸ºç©ºçš„å¯¹è±¡æ²¡æœ‰ç©ºæŒ‡é’ˆï¼›</li><li>getæ–¹æ³•åŒæ ·æ˜¯å–å€¼ï¼Œvalueæ˜¯nullä¹Ÿä¼šæŠ›å¼‚å¸¸â€“ä¸ç”¨</li><li>æœ€åï¼Œå–å€¼ç”¨ofNullableå°±å®Œäº‹äº†</li></ul></li><li>isPresentå’ŒifPresent<ul><li>isPresentè¿”å›å…ƒç´ æ˜¯å¦ä¸ºnullï¼Œæœ‰è¿”å›å€¼</li><li>ifPresentå…ƒç´ ä¸ä¸ºç©ºæ‰§è¡Œä¸€æ®µé€»è¾‘ï¼Œæ— è¿”å›å€¼</li><li>æœ€åï¼Œåªåˆ¤æ–­ç”¨isPresentæœ‰é€»è¾‘ç”¨ifPresent</li></ul></li><li>filterã€mapå’ŒflatMap<ul><li>éƒ½æ˜¯å°†ä¸æ˜¯nullçš„å…ƒç´ æ‰§è¡Œä¼ å…¥çš„é€»è¾‘ï¼Œæ ¹æ®ä¸åŒçš„éœ€æ±‚é€‰æ‹©æ–¹æ³•</li></ul></li><li>orElseã€orElseGetå’ŒorElseThrow<ul><li>éƒ½æ˜¯å°†nullçš„å…ƒç´ åšè½¬æ¢ï¼ŒorElseè¿”å›ä¼ å…¥çš„å€¼ï¼ŒorElseGetè¿”å›ä¼ å…¥çš„é€»è¾‘ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•çœ‹éœ€æ±‚æ²¡æœ‰é€»è¾‘æœ‰orElseæœ‰é€»è¾‘ç”¨orElseGetï¼›orElseThrowå…ƒç´ ä¸ºnullæŠ›å¼‚å¸¸â€“ä¸ç”¨</li></ul></li></ul><h4 id="æ —å­"><a href="#æ —å­" class="headerlink" title="æ —å­"></a>æ —å­</h4><p>åˆšåˆšå­¦ä¹ è¿˜ä¸çŸ¥é“æ€ä¹ˆä½¿ç”¨ï¼Œçœ‹åˆ°[ä¸€ç¯‡æ–‡ç« ]ï¼ˆ<a href="https://www.cnblogs.com/rjzheng/p/9163246.htmlï¼‰" target="_blank" rel="noopener">https://www.cnblogs.com/rjzheng/p/9163246.htmlï¼‰</a> ç»™çš„æ —å­ä¸é”™ï¼Œå¾ˆæœ‰å€Ÿé‰´æ„ä¹‰ï¼Œä½†æ˜¯æˆ‘å¯¹è¿™ç¯‡æ–‡ç« ä¸­çš„orElseå’ŒorElseGetçš„æ —å­æœ‰ä¸åŒæ„è§ã€‚</p><h5 id="æ —å­1"><a href="#æ —å­1" class="headerlink" title="æ —å­1"></a>æ —å­1</h5><ul><li>ä½¿ç”¨å‰</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public String getCity(User user)  throws Exception&#123;</span><br><span class="line">    if(user!=null)&#123;</span><br><span class="line">        if(user.getAddress()!=null)&#123;</span><br><span class="line">            Address address = user.getAddress();</span><br><span class="line">            if(address.getCity()!=null)&#123;</span><br><span class="line">                return address.getCity();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    throw new Excpetion(&quot;å–å€¼é”™è¯¯&quot;); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨å</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public String getCity(User user) throws Exception&#123;</span><br><span class="line">    return Optional.ofNullable(user)</span><br><span class="line">                   .map(u-&gt; u.getAddress())</span><br><span class="line">                   .map(a-&gt;a.getCity())</span><br><span class="line">                   .orElseThrow(()-&gt;new Exception(&quot;å–æŒ‡é”™è¯¯&quot;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ —å­2"><a href="#æ —å­2" class="headerlink" title="æ —å­2"></a>æ —å­2</h5><ul><li>ä½¿ç”¨å‰</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(user!=null)&#123;</span><br><span class="line">    dosomething(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨å</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Optional.ofNullable(user)</span><br><span class="line">        .ifPresent(u-&gt;&#123;</span><br><span class="line">           dosomething(u);</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h5 id="æ —å­3"><a href="#æ —å­3" class="headerlink" title="æ —å­3"></a>æ —å­3</h5><ul><li>ä½¿ç”¨å‰</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public User getUser(User user) throws Exception&#123;</span><br><span class="line">if(user!=null)&#123;</span><br><span class="line">    String name = user.getName();</span><br><span class="line">    if(&quot;zhangsan&quot;.equals(name))&#123;</span><br><span class="line">        return user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    user = new User();</span><br><span class="line">    user.setName(&quot;zhangsan&quot;);</span><br><span class="line">    return user;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨å</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public User getUser(User user) &#123;</span><br><span class="line">    return Optional.ofNullable(user)</span><br><span class="line">                   .filter(u-&gt;&quot;zhangsan&quot;.equals(u.getName()))</span><br><span class="line">                   .orElseGet(()-&gt; &#123;</span><br><span class="line">                        User user1 = new User();</span><br><span class="line">                        user1.setName(&quot;zhangsan&quot;);</span><br><span class="line">                        return user1;</span><br><span class="line">                   &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Optional-ä½¿ç”¨åŠæºç åˆ†æ&quot;&gt;&lt;a href=&quot;#Optional-ä½¿ç”¨åŠæºç åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;Optional ä½¿ç”¨åŠæºç åˆ†æ&quot;&gt;&lt;/a&gt;Optional ä½¿ç”¨åŠæºç åˆ†æ&lt;/h3&gt;&lt;p&gt;A container ob
      
    
    </summary>
    
      <category term="Java8" scheme="http://yoursite.com/categories/Java8/"/>
    
    
      <category term="Java8" scheme="http://yoursite.com/tags/Java8/"/>
    
  </entry>
  
  <entry>
    <title>mac è®¾ç½®</title>
    <link href="http://yoursite.com/2019/08/13/mac-%E8%AE%BE%E7%BD%AE/"/>
    <id>http://yoursite.com/2019/08/13/mac-è®¾ç½®/</id>
    <published>2019-08-13T08:44:33.000Z</published>
    <updated>2019-08-13T09:14:55.008Z</updated>
    
    <content type="html"><![CDATA[<h6 id="å¤–æ¥é”®ç›˜çš„è°ƒæ•´"><a href="#å¤–æ¥é”®ç›˜çš„è°ƒæ•´" class="headerlink" title="å¤–æ¥é”®ç›˜çš„è°ƒæ•´"></a>å¤–æ¥é”®ç›˜çš„è°ƒæ•´</h6><p>é”®ç›˜è®¾ç½®ä¸­å°†controlå’Œcommandäº’æ¢å°±å¯ä»¥è¾¾åˆ°å’ŒWindowsä¸‹çš„å¤åˆ¶ç²˜è´´æ—¶ä¸€æ ·çš„ï¼Œåˆ‡æ¢ç¨‹åºåˆ™ç”±alt+tabå˜æˆäº†ctrl+tabéœ€è¦é€‚åº”ä¸€ä¸‹ï¼Œä¸è¿‡å¤åˆ¶ï¼Œç²˜è´´ï¼Œæ’¤é”€ï¼Œä¿å­˜è¿™äº›ä¸ç”¨å†å»é€‚åº”æ–°çš„å¿«æ·é”®äº†<br><img src="/images/pasted-14.png" alt="upload successful"></p><h6 id="ideaä¸­çš„è°ƒæ•´"><a href="#ideaä¸­çš„è°ƒæ•´" class="headerlink" title="ideaä¸­çš„è°ƒæ•´"></a>ideaä¸­çš„è°ƒæ•´</h6><p>preferencesä¸­æ‰¾åˆ°keymapé€‰æ‹©Eclipse(macOS)ï¼Œè¿™æ ·åŠ ä¸Šç¬¬ä¸€æ­¥çš„é…ç½®å¤åˆ¶ç²˜è´´è¿™äº›å¿«æ·é”®ä¸Windowsç›¸åŒï¼Œä¸ç”¨å†å»é€‚åº”æ–°çš„å¿«æ·é”®</p><h6 id="è‡ªåŠ¨è¡¥å…¨å˜é‡"><a href="#è‡ªåŠ¨è¡¥å…¨å˜é‡" class="headerlink" title="è‡ªåŠ¨è¡¥å…¨å˜é‡"></a>è‡ªåŠ¨è¡¥å…¨å˜é‡</h6><p>keymapä¸­æœç´¢variable   é»˜è®¤ä¸ºï¼šoption+command+L é€šè¿‡ä»¥ä¸Šè®¾ç½®åä¸ºï¼šCtrl+alt+L</p><h5 id="å¦ä¸€ç§ä½¿ç”¨æ–¹æ³•"><a href="#å¦ä¸€ç§ä½¿ç”¨æ–¹æ³•" class="headerlink" title="å¦ä¸€ç§ä½¿ç”¨æ–¹æ³•"></a>å¦ä¸€ç§ä½¿ç”¨æ–¹æ³•</h5><p>ä¸åšä»»ä½•é…ç½®ï¼Œideaä¸­ä½¿ç”¨eclipseé£æ ¼çš„å¿«æ·é”®ï¼Œideaä¸­çš„ä½¿ç”¨ä¸å½±å“ï¼Œä½†æ˜¯åœ¨ideaä»¥å¤–å°±å¾—é€‚åº”macä¸­çš„å¿«æ·é”®ï¼Œæ„Ÿè§‰è¿˜æ˜¯è¿™ä¸ªæ–¹æ³•æ›´å®¹æ˜“æ¥å—ä¸€äº›</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h6 id=&quot;å¤–æ¥é”®ç›˜çš„è°ƒæ•´&quot;&gt;&lt;a href=&quot;#å¤–æ¥é”®ç›˜çš„è°ƒæ•´&quot; class=&quot;headerlink&quot; title=&quot;å¤–æ¥é”®ç›˜çš„è°ƒæ•´&quot;&gt;&lt;/a&gt;å¤–æ¥é”®ç›˜çš„è°ƒæ•´&lt;/h6&gt;&lt;p&gt;é”®ç›˜è®¾ç½®ä¸­å°†controlå’Œcommandäº’æ¢å°±å¯ä»¥è¾¾åˆ°å’ŒWindowsä¸‹çš„å¤åˆ¶ç²˜è´´æ—¶ä¸€æ ·çš„ï¼Œåˆ‡æ¢ç¨‹
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Lambdaè¡¨è¾¾å¼</title>
    <link href="http://yoursite.com/2019/08/05/Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    <id>http://yoursite.com/2019/08/05/Lambdaè¡¨è¾¾å¼/</id>
    <published>2019-08-05T01:06:59.000Z</published>
    <updated>2019-08-05T01:10:06.276Z</updated>
    
    <content type="html"><![CDATA[<h4 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><p>åŒ…å«3ä¸ªéƒ¨åˆ†ï¼šå‚æ•° -&gt; è¡¨è¾¾å¼/ä»£ç å—</p><ul><li>(params) -&gt; expression</li><li>(params) -&gt; statement</li><li>(params) -&gt; { statements }</li></ul><p><strong>ä¸å†…éƒ¨ç±»ç›¸åŒï¼Œlambdaè¡¨è¾¾å¼ä¸å¯ä»¥ä¿®æ”¹å¤–éƒ¨å˜é‡ï¼Œè¿™ç‚¹ä¸åŒ¿åå†…éƒ¨ç±»ç›¸åŒï¼Œä¸åŒçš„æ˜¯lambdaè¡¨è¾¾å¼ä¸ç”¨å°†å˜é‡æ˜¾ç¤ºçš„å£°åä¸ºfinalï¼Œå¦‚æœæ˜¯åœ¨è‡ªå·±çš„ä½œç”¨åŸŸä¸­å®šä¹‰å±€éƒ¨å˜é‡å¯ä»¥è¿›è¡Œä¿®æ”¹ï¼Œæœ€ç»ˆä¿è¯çº¿ç¨‹å®‰å…¨</strong></p><p><strong>ï¼ˆè¸©å‘ï¼‰lambdaè¡¨è¾¾å¼ä¸­çš„thiså¹¶ä¸æ˜¯ä»£è¡¨å½“å‰ä½¿ç”¨lambdaè¡¨è¾¾å¼çš„å¯¹è±¡ï¼Œè€Œæ˜¯å¤–éƒ¨ç±»çš„å¯¹è±¡</strong></p><h4 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><h5 id="å¯ä»£æ›¿åŒ¿åå†…éƒ¨ç±»"><a href="#å¯ä»£æ›¿åŒ¿åå†…éƒ¨ç±»" class="headerlink" title="å¯ä»£æ›¿åŒ¿åå†…éƒ¨ç±»"></a>å¯ä»£æ›¿åŒ¿åå†…éƒ¨ç±»</h5><ul><li>å¯ä»¥ä»£æ›¿åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œä¹Ÿå«åšå‡½æ•°å¼æ¥å£ï¼Œä¾‹å¦‚ï¼›Comparatorã€Runnable</li><li>Java8å†…ç½®äº†å››å¤§å‡½æ•°å¼æ¥å£åˆ†åˆ«ä¸ºï¼šConsumerï¼ŒSupplierï¼ŒFunctionï¼ŒPredicate</li><li>jdk8ä¸­æä¾›@FunctionalInterface æ³¨è§£æ¥æ£€æŸ¥æ¥å£æ˜¯å¦ç¬¦å·å‡½æ•°å¼æ¥å£çš„æ ‡å‡†</li></ul><h5 id="å¯ä»£æ›¿è¿­ä»£æ“ä½œ"><a href="#å¯ä»£æ›¿è¿­ä»£æ“ä½œ" class="headerlink" title="å¯ä»£æ›¿è¿­ä»£æ“ä½œ"></a>å¯ä»£æ›¿è¿­ä»£æ“ä½œ</h5><ul><li>list.forEach(n -&gt; {});</li></ul><h5 id="é€šè¿‡Streamæ“ä½œé›†åˆ"><a href="#é€šè¿‡Streamæ“ä½œé›†åˆ" class="headerlink" title="é€šè¿‡Streamæ“ä½œé›†åˆ"></a>é€šè¿‡Streamæ“ä½œé›†åˆ</h5><ul><li>list.stream().filter()â€¦collect();</li></ul><h5 id="å¯¹æ•°æ®å¤„ç†"><a href="#å¯¹æ•°æ®å¤„ç†" class="headerlink" title="å¯¹æ•°æ®å¤„ç†"></a>å¯¹æ•°æ®å¤„ç†</h5><ul><li>ä¸Sparkç›¸ä¼¼java8å¯ä»¥å°†é›†åˆè½¬åŒ–ä¸ºæµï¼ˆStreamï¼‰ï¼Œåœ¨å¯¹æµè¿›è¡Œmapå’Œreduceæ“ä½œï¼Œä¸Sparkç›¸åŒè¿™äº›æ–¹æ³•ä¹Ÿæ˜¯æƒ°æ€§æ±‚å€¼çš„</li></ul><h4 id="Java8çš„å‡½æ•°å¼æ¥å£"><a href="#Java8çš„å‡½æ•°å¼æ¥å£" class="headerlink" title="Java8çš„å‡½æ•°å¼æ¥å£"></a>Java8çš„å‡½æ•°å¼æ¥å£</h4><h5 id="æ¶ˆè´¹å‹æ¥å£-Consumer"><a href="#æ¶ˆè´¹å‹æ¥å£-Consumer" class="headerlink" title="æ¶ˆè´¹å‹æ¥å£ Consumer"></a>æ¶ˆè´¹å‹æ¥å£ Consumer<t></t></h5><ul><li>æŠ½è±¡æ–¹æ³•-void accept(T t);</li><li>å‚æ•°ç±»å‹-T</li><li>è¿”å›ç±»å‹-void</li></ul><p>è¿™ä¸ªè¿˜æ²¡æœ‰ç”¨è¿‡ï¼Œå› ä¸ºè¿”å›å€¼ä¸ºç©ºå¹¶ä¸”ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œæˆ‘æ„Ÿè§‰å’Œé›†åˆçš„éå†å·®ä¸å¤š list.forEach(n -&gt; sout(n)); é€šè¿‡å®šä¹‰å¤šä¸ªConsumerå¯¹è±¡ç›¸å½“äºå®šä¹‰å¤šä¸ªé€»è¾‘å—ï¼Œæœ€ç»ˆconsumer1.addThen(consumer2) è¿æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´consumer1é€»è¾‘å®Œæˆåæ‰§è¡Œconsumer2ï¼ˆä¸ºä»€ä¹ˆä¸å†™åœ¨ä¸€ä¸ªé€»è¾‘é‡Œå‘¢ï¼Ÿæˆ‘çŒœå¯èƒ½éœ€è¦è§£è€¦å§ï¼‰</p><h5 id="ä¾›ç»™å‹æ¥å£-Supplier"><a href="#ä¾›ç»™å‹æ¥å£-Supplier" class="headerlink" title="ä¾›ç»™å‹æ¥å£ Supplier"></a>ä¾›ç»™å‹æ¥å£ Supplier<t></t></h5><ul><li>æŠ½è±¡æ–¹æ³•-T get();</li><li>å‚æ•°ç±»å‹-æ— å‚æ•°</li><li>è¿”å›ç±»å‹-T</li><li>è¿™ä¸ªæ„Ÿè§‰å¾ˆç®€å•ï¼Œæ²¡æœ‰å‚æ•°ä½†è¦è¿”å›ä¸€ä¸ªå€¼ï¼Œå¯èƒ½newä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ä¼šç”¨åˆ°å§ï¼Œå£°åSupplierå¯¹è±¡åç›´æ¥è°ƒç”¨getæ‰§è¡Œå®šä¹‰çš„é€»è¾‘ï¼ˆç®­å¤´åé¢çš„é€»è¾‘ï¼‰è¿”å›ä¸€ä¸ªå€¼</li></ul><h5 id="å‡½æ•°å‹æ¥å£-Function-lt-T-R-gt"><a href="#å‡½æ•°å‹æ¥å£-Function-lt-T-R-gt" class="headerlink" title="å‡½æ•°å‹æ¥å£ Function&lt;T,R&gt;"></a>å‡½æ•°å‹æ¥å£ Function&lt;T,R&gt;</h5><ul><li>æŠ½è±¡æ–¹æ³•-R apply(T t)</li><li>å‚æ•°ç±»å‹-T</li><li>è¿”å›ç±»å‹-R</li></ul><p>åŒæ ·æ˜¯åˆ›å»ºFunctionå¯¹è±¡å®šä¹‰ä¸€ä¸ªæ–¹æ³•é€»è¾‘ï¼Œæ¥å£ä¸­æœ‰Consumeræ¥å£åŒæ ·çš„å®ç°æ–¹æ³•andThenï¼Œç”¨æ³•ä¹Ÿç›¸åŒï¼Œä¸åŒçš„æ˜¯Functionå®šä¹‰ä¸­æœ‰è¿”å›å€¼ï¼Œfun1.addThen(fun2)æ˜¯å°†fun1æ‰§è¡Œçš„è¿”å›å€¼ä¼ å…¥fun2ä¸­å†æ‰§è¡Œfun2ä¸­çš„é€»è¾‘ï¼Œé™¤æ­¤ä¹‹å¤–è¯¥æ¥å£è¿˜æœ‰ä¸€ä¸ªå®ç°æ–¹æ³•composeï¼Œç”¨æ³•å’ŒandThenç›¸åï¼Œfun1.compose(fun2) æ˜¯å…ˆæ‰§è¡Œfun2ä¸­çš„é€»è¾‘å°†è¿”å›å€¼ä½œä¸ºå‚æ•°ä¼ å…¥fun1ä¸­å†æ‰§è¡Œfun1ä¸­çš„é€»è¾‘</p><h5 id="æ–­è¨€å‹æ¥å£-Predicate"><a href="#æ–­è¨€å‹æ¥å£-Predicate" class="headerlink" title="æ–­è¨€å‹æ¥å£ Predicate"></a>æ–­è¨€å‹æ¥å£ Predicate<t></t></h5><ul><li>æŠ½è±¡æ–¹æ³•-boolean test(T t)</li><li>å‚æ•°ç±»å‹-T</li><li>è¿”å›ç±»å‹-boolean</li><li>å®šä¹‰çš„Predicateå¯¹è±¡ç›¸å½“äºç­›é€‰æ¡ä»¶çš„å¯¹è±¡ï¼Œæœ€ç»ˆé€šè¿‡streamä¸­çš„filterè¿›è¡Œè¿‡æ»¤ï¼Œå¤šä¸ªæ¡ä»¶å¯ä»¥ç”¨andå’Œoræ¥è¿›è¡Œç»„åˆç›¸å½“äºè¿ç®—ç¬¦ &amp;&amp; å’Œ ||</li><li>å¤šç”¨åšé›†åˆç­›é€‰ eg:</li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// ç­›é€‰å¤§äº18å²çš„å¥³æ€§ç”¨æˆ·</span><br><span class="line">Predicate&lt;User&gt; matchAge = u -&gt; u.age &gt; 18;</span><br><span class="line">Predicate&lt;User&gt; matchSex = u -&gt; u.sex.equals(&quot;f&quot;);</span><br><span class="line">resultList = userList.stream().filter(matchAge.and(matchSex)).collect(Collectors.toList());</span><br></pre></td></tr></table></figure></li></ul><p>æˆ‘çš„ç†è§£æ˜¯åœ¨å®šä¹‰Predicateçš„å¯¹è±¡æ—¶ï¼Œ-&gt; å‰ä¼ å…¥å‚æ•°ï¼Œ -&gt; åå®šä¹‰testçš„æ–¹æ³•ä½“ï¼Œæœ€ç»ˆè¡¥å……æŠ½è±¡æ–¹æ³•testï¼Œé€šè¿‡streamçš„filterç­›é€‰ç›¸å½“äºå°†é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡testæ–¹æ³•ï¼Œå°†è¿”å›å€¼ä¸ºtrueçš„ç­›é€‰å‡ºæ¥ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;è¯­æ³•&quot;&gt;&lt;a href=&quot;#è¯­æ³•&quot; class=&quot;headerlink&quot; title=&quot;è¯­æ³•&quot;&gt;&lt;/a&gt;è¯­æ³•&lt;/h4&gt;&lt;p&gt;åŒ…å«3ä¸ªéƒ¨åˆ†ï¼šå‚æ•° -&amp;gt; è¡¨è¾¾å¼/ä»£ç å—&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(params) -&amp;gt; expression&lt;/li&gt;
&lt;l
      
    
    </summary>
    
    
      <category term="Java8" scheme="http://yoursite.com/tags/Java8/"/>
    
  </entry>
  
  <entry>
    <title>StringUtils</title>
    <link href="http://yoursite.com/2019/07/26/StringUtils/"/>
    <id>http://yoursite.com/2019/07/26/StringUtils/</id>
    <published>2019-07-26T11:32:04.000Z</published>
    <updated>2019-07-26T11:35:18.143Z</updated>
    
    <content type="html"><![CDATA[<h2 id="StringUtils"><a href="#StringUtils" class="headerlink" title="StringUtils"></a>StringUtils</h2><ul><li>å·¥ä½œä¸­å¾ˆå¤šæ“ä½œå­—ç¬¦ä¸²çš„æ“ä½œï¼Œä½¿ç”¨åˆ°äº†å·¥å…·ç±»è¿™é‡Œæ€»ç»“ä¸‹ï¼Œorg.apache.commons.lang3åŒ…ä¸‹çš„</li></ul><h3 id="split-String-str-String-separatorChars-â€“-gt-åˆ‡åˆ†å­—ç¬¦ä¸²"><a href="#split-String-str-String-separatorChars-â€“-gt-åˆ‡åˆ†å­—ç¬¦ä¸²" class="headerlink" title="split(String str, String separatorChars)â€“&gt;åˆ‡åˆ†å­—ç¬¦ä¸²"></a>split(String str, String separatorChars)â€“&gt;åˆ‡åˆ†å­—ç¬¦ä¸²</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public static String[] split(String str, String separatorChars) &#123;</span><br><span class="line">    return splitWorker(str, separatorChars, -1, false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‚æ•°ï¼š</p><ul><li>int max -&gt;the maximum number of elements to include in the array. A zero or negative value implies no limit.<br>è¿™ä¸ªå‚æ•°ä»£è¡¨è¿”å›çš„å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦ï¼Œ0æˆ–è€…-1ä»£è¡¨ä¸é™åˆ¶é•¿åº¦</li><li>boolean preserveAllTokens -&gt; if {@code true}, adjacent separators are treated as empty token separators; if {@code false}, adjacent separators are treated as one separator. è¿™ä¸ªå‚æ•°æ˜¯è¿ç»­åˆ†éš”ç¬¦è§„åˆ™çš„æ ‡å¿—ï¼Œå¦‚æœä¸ºtrueè¿ç»­çš„åˆ†éš”ç¬¦éƒ½ä¼šåŒ¹é…ï¼Œæœ€ç»ˆå¾—åˆ°çš„å­—ç¬¦ä¸²æ•°ç»„ä¼šæœ‰ç©ºçš„å€¼ï¼Œjdkä¸­çš„splitå°±æ˜¯è¿™ä¸ªè§„åˆ™ï¼›å¦‚æœä¸ºfalseï¼Œè¿ç»­çš„åˆ†éš”ç¬¦åªä¼šåŒ¹é…ä¸€æ¬¡ï¼Œæœ€ç»ˆå¾—åˆ°çš„æ•°ç»„ä¸ä¼šæœ‰ç©ºå€¼ã€‚eg(â€œ1,2,3,,4,5â€åˆ‡åˆ†åï¼Œtrueå¾—åˆ°[1,2,3,,4,5]è€Œfalseå¾—åˆ°[1,2,3,4,5])ï¼Œ</li><li>è¿™ä¹Ÿæ˜¯ä¸jdkä¸­çš„splitæ–¹æ³•çš„åŒºåˆ«ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ä¸jdkç›¸åŒçš„è§„åˆ™ï¼Œå·¥å…·ç±»ä¸­çš„splitPreserveAllTokensæ–¹æ³•å¯ä»¥å®ç°ï¼Œè¯¥æ–¹æ³•ä¼šè°ƒç”¨splitWorkeræ–¹æ³•ä¸”æœ€åçš„å‚æ•°ä¸ºtrue</li></ul><p>æ‰€ä»¥splitæ–¹æ³•é»˜è®¤å‚æ•°ä¸º-1å’Œfalseè¡¨ç¤ºæ•°ç»„é•¿åº¦ä¸æ”¶é™åˆ¶ï¼ŒåŠä½¿ç”¨ç¬¬äºŒä¸ªè§„åˆ™è¿›è¡Œåˆ‡å‰²ï¼Œç¡®ä¿å¾—åˆ°çš„å­—ç¬¦ä¸²æ•°ç»„æ²¡æœ‰ç©ºå€¼<br>åŸç†ï¼š</p><ul><li>å…ˆå°†å­—ç¬¦ä¸²ä¸åˆ†éš”ç¬¦åšåŒ¹é…</li><li>åŒ¹é…åˆ°ä¹‹åå°†åˆ†éš”ç¬¦ä¹‹å‰çš„å­ä¸²åˆ†å‰²addåˆ°ä¸€ä¸ªlisté›†åˆä¸­</li><li>æœ€åä½¿ç”¨list.toArrayè¿”å›æœ€ç»ˆçš„æ•°ç»„</li></ul><h4 id="join-å¾…ç»­"><a href="#join-å¾…ç»­" class="headerlink" title="join  å¾…ç»­"></a>join  å¾…ç»­</h4>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;StringUtils&quot;&gt;&lt;a href=&quot;#StringUtils&quot; class=&quot;headerlink&quot; title=&quot;StringUtils&quot;&gt;&lt;/a&gt;StringUtils&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å·¥ä½œä¸­å¾ˆå¤šæ“ä½œå­—ç¬¦ä¸²çš„æ“ä½œï¼Œä½¿ç”¨åˆ°äº†å·¥å…·ç±»è¿™é‡Œæ€»ç»“ä¸‹ï¼Œo
      
    
    </summary>
    
    
      <category term="utils" scheme="http://yoursite.com/tags/utils/"/>
    
  </entry>
  
  <entry>
    <title>Arrays</title>
    <link href="http://yoursite.com/2019/07/26/Arrays/"/>
    <id>http://yoursite.com/2019/07/26/Arrays/</id>
    <published>2019-07-26T11:31:27.000Z</published>
    <updated>2019-07-29T07:50:19.522Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h3><h4 id="copyOf"><a href="#copyOf" class="headerlink" title="copyOf"></a>copyOf</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public static &lt;T,U&gt; T[] copyOf(U[] original, int newLength, Class&lt;? extends T[]&gt; newType) &#123;</span><br><span class="line">    @SuppressWarnings(&quot;unchecked&quot;)</span><br><span class="line">    T[] copy = ((Object)newType == (Object)Object[].class)</span><br><span class="line">        ? (T[]) new Object[newLength]</span><br><span class="line">        : (T[]) Array.newInstance(newType.getComponentType(), newLength);</span><br><span class="line">    System.arraycopy(original, 0, copy, 0,</span><br><span class="line">                     Math.min(original.length, newLength));</span><br><span class="line">    return copy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…ˆçœ‹è¦è¢«æ‹·è´åˆ°çš„æ•°ç»„é•¿åº¦æ˜¯ä¸æ˜¯å¤Ÿç”¨ï¼Œå¤Ÿç”¨çš„è¯ç›´æ¥è°ƒç”¨System.arraycopyæ–¹æ³•ï¼›ä¸å¤Ÿç”¨åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸æºæ•°ç»„åŒæ ·é•¿åº¦çš„æ•°ç»„è¿›è¡Œæ‹·è´<br><strong>å¦‚æœæ•°ç»„ä¸­æ˜¯å¼•ç”¨ç±»å‹ï¼ŒArrays.copyæ‹·è´çš„æ˜¯å¼•ç”¨ï¼Œä¸ä¼šæ–°åˆ›å»ºå¯¹è±¡ï¼Œå¦‚æœè¦å¯¹æ‹·è´çš„æ•°ç»„åšä¿®æ”¹æ“ä½œæºæ•°ç»„åŒæ ·ä¼šå—åˆ°å½±å“ï¼Œè€Œå­—ç¬¦ä¸²æ•°ç»„ç”±äºå­—ç¬¦ä¸²å¸¸é‡æ± çš„å­˜åœ¨ï¼Œå½“ä¿®æ”¹å­—ç¬¦ä¸²çš„æ—¶å€™ä¼šæ–°åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶å°†æ–°çš„å¼•ç”¨ä»˜ç»™æ•°ç»„ï¼Œæ‰€ä»¥æºæ•°ç»„å¯¹åº”çš„å­—ç¬¦ä¸²å¹¶ä¸ä¼šå‘ç”Ÿå˜åŒ–</strong></p><h5 id="System-arraycopy"><a href="#System-arraycopy" class="headerlink" title="System.arraycopy"></a>System.arraycopy</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public static native void arraycopy(Object src,  int  srcPos,</span><br><span class="line">                                    Object dest, int destPos,</span><br><span class="line">                                    int length);</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªæœ¬åœ°æ–¹æ³•ï¼Œå°±çœ‹ä¸€ä¸‹å‚æ•°å§</p><ul><li>srcâ€”-the source array. </li><li>srcPosâ€”-starting position in the source array.</li><li>destâ€”-the destination array.</li><li>destPosâ€”-starting position in the destination data.</li><li>lengthâ€”-the number of array elements to be copied.</li></ul><h4 id="asList"><a href="#asList" class="headerlink" title="asList"></a>asList</h4><p>å°†å­—ç¬¦ä¸²è½¬æˆArrayListé›†åˆ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public static &lt;T&gt; List&lt;T&gt; asList(T... a) &#123;</span><br><span class="line">    return new ArrayList&lt;&gt;(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„ArrayListæ˜¯Arraysä¸­çš„ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œç»§æ‰¿äº†AbstractListæ–¹æ³•ï¼Œå†…éƒ¨å€¼å®ç°äº†éƒ¨åˆ†æ–¹æ³•ï¼Œç®€å•ç‚¹è¯´è¿™ä¸ªé›†åˆæ˜¯åªè¯»çš„ï¼Œä¸èƒ½è¿›è¡Œä¿®æ”¹å’Œåˆ é™¤æ“ä½œï¼Œå› ä¸ºæ²¡æœ‰é‡å†™ç›¸å…³çš„æ–¹æ³•ã€‚</p><h4 id="copyOfRange"><a href="#copyOfRange" class="headerlink" title="copyOfRange"></a>copyOfRange</h4><p>æŒ‰ç…§èŒƒå›´æ‹·è´æ•°ç»„ [from,to) å·¦å¼€å³é—­<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public static &lt;T&gt; T[] copyOfRange(T[] original, int from, int to) &#123;</span><br><span class="line">    return copyOfRange(original, from, to, (Class&lt;? extends T[]&gt;) original.getClass());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><p>é›†åˆå·¥å…·ç±» Collections.sort å…¶å®å°±æ˜¯è°ƒç”¨ Arrays.sort æ–¹æ³•å¯¹é›†åˆè¿›è¡Œæ’åºçš„ï¼Œè¯¥æ–¹æ³•å…ˆè°ƒç”¨ toArray æ–¹æ³•å°†é›†åˆè½¬æˆobjectæ•°ç»„ï¼Œç„¶åå†è°ƒç”¨ Arrays.sort æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œæœ€åå†å°†æ’åºå·çš„æ•°ç»„é€šè¿‡è¿­ä»£å™¨setåˆ°æ–°çš„é›†åˆä¸­å»ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public static void sort(Object[] a) &#123;</span><br><span class="line">    if (LegacyMergeSort.userRequested)</span><br><span class="line">        legacyMergeSort(a);</span><br><span class="line">    else</span><br><span class="line">        ComparableTimSort.sort(a, 0, a.length, null, 0, 0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°sortæ–¹æ³•æ˜¯é€šè¿‡userRequestedçš„æ ‡å¿—æ¥é€‰ä¸­æ’åºçš„æ–¹å¼ï¼Œä»jdk7ä»¥åé»˜è®¤ä¸ºfalseï¼Œä½¿ç”¨TimSortçš„æ–¹å¼æ’åºï¼Œï¼ˆé€šè¿‡System.setProperty(â€œjava.util.Arrays.useLegacyMergeSortâ€, â€œtrueâ€)ä¿®æ”¹ï¼‰</p><ul><li>userRequestedä¸ºtrueä½¿ç”¨LegacyMergeSortçš„æ–¹å¼è¿›è¡Œæ’åºï¼Œå½“æ•°ç»„é•¿åº¦å°äº7æ—¶ä½¿ç”¨æ’å…¥æ’åºï¼Œå½“æ•°ç»„é•¿åº¦å¤§äº7æ—¶ä½¿ç”¨å½’å¹¶æ’åºï¼Œå½’å¹¶åˆ°é•¿åº¦å°äº7çš„é•¿åº¦å†æ¬¡ä½¿ç”¨æ’å…¥æ’åº</li><li>userRequestedä¸ºfalseé‡‡ç”¨TimSortçš„æ–¹å¼æ’åº</li></ul><h5 id="TimSort"><a href="#TimSort" class="headerlink" title="TimSort"></a>TimSort</h5><ul><li>1.æ•°ç»„é•¿åº¦å°äº32æ—¶ï¼Œé¦–å…ˆåœ¨æ•°ç»„ä¸­ä»å¼€å¤´å¼€å§‹å¯»æ‰¾å‡åºçš„å­æ•°ç»„ï¼Œæ²¡æœ‰çš„è¯æ‰¾é™åºçš„å­æ•°ç»„å†åè½¬ï¼Œç„¶åå°†æ•°ç»„ä¸­çš„å‰©ä½™å…ƒç´ ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼æ’å…¥åˆ°å­æ•°ç»„ä¸­</li><li>2.æ•°ç»„é•¿åº¦å¤§äº32æ—¶ï¼Œå°†æ•°ç»„åˆ‡åˆ†è‹¥å¹²ä¸ªé•¿åº¦åœ¨[16,32)çš„åŒºå—ï¼ˆjdké‡Œå«runï¼Œæˆ‘ç†è§£ä¸ºåŒºå—ï¼‰</li><li>3.æ¯ä¸ªåŒºå—å†ä½¿ç”¨ç¬¬ä¸€æ­¥çš„æ–¹å¼è¿›è¡Œæ’åºæ’åºåå°†æ¯ä¸ªåŒºå—è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶çš„è¿‡ç¨‹æœ‰ä¸¤ç‚¹ä¼˜åŒ–<ul><li>a.åˆå¹¶åŒºå—çš„è¿‡ç¨‹ä¸­é€šè¿‡é™åˆ¶æ¡ä»¶æ¥å®Œæˆå°†è¿ç»­çš„ä¸‰ä¸ªåŒºå—ä¸­è¾ƒå°çš„ä¸¤ä¸ªä¼˜å…ˆåˆå¹¶é™ä½å¤æ‚åº¦</li><li>b.ä¸¤ä¸ªåŒºå—åˆå¹¶æ—¶ï¼Œå…ˆå°†åŒºå—1çš„å¤´å…ƒç´ å’Œå°¾å…ƒç´ æ’å…¥åˆ°åŒºå—2ä¸­ï¼Œç›¸å½“äºç¼©å°äº†æ’å…¥åŒºå—2çš„èŒƒå›´é™ä½å¤æ‚åº¦</li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">static void sort(Object[] a, int lo, int hi, Object[] work, int workBase, int workLen) &#123;</span><br><span class="line">    assert a != null &amp;&amp; lo &gt;= 0 &amp;&amp; lo &lt;= hi &amp;&amp; hi &lt;= a.length;</span><br><span class="line"></span><br><span class="line">    int nRemaining  = hi - lo;</span><br><span class="line">    if (nRemaining &lt; 2)</span><br><span class="line">        return;  // Arrays of size 0 and 1 are always sorted</span><br><span class="line"></span><br><span class="line">    // If array is small, do a &quot;mini-TimSort&quot; with no merges</span><br><span class="line">    if (nRemaining &lt; MIN_MERGE) &#123;</span><br><span class="line">        int initRunLen = countRunAndMakeAscending(a, lo, hi);</span><br><span class="line">        binarySort(a, lo, hi, lo + initRunLen);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * March over the array once, left to right, finding natural runs,</span><br><span class="line">     * extending short natural runs to minRun elements, and merging runs</span><br><span class="line">     * to maintain stack invariant.</span><br><span class="line">     */</span><br><span class="line">    ComparableTimSort ts = new ComparableTimSort(a, work, workBase, workLen);</span><br><span class="line">    int minRun = minRunLength(nRemaining);</span><br><span class="line">    do &#123;</span><br><span class="line">        // Identify next run</span><br><span class="line">        int runLen = countRunAndMakeAscending(a, lo, hi);</span><br><span class="line"></span><br><span class="line">        // If run is short, extend to min(minRun, nRemaining)</span><br><span class="line">        if (runLen &lt; minRun) &#123;</span><br><span class="line">            int force = nRemaining &lt;= minRun ? nRemaining : minRun;</span><br><span class="line">            binarySort(a, lo, lo + force, lo + runLen);</span><br><span class="line">            runLen = force;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // Push run onto pending-run stack, and maybe merge</span><br><span class="line">        ts.pushRun(lo, runLen);</span><br><span class="line">        ts.mergeCollapse();</span><br><span class="line"></span><br><span class="line">        // Advance to find next run</span><br><span class="line">        lo += runLen;</span><br><span class="line">        nRemaining -= runLen;</span><br><span class="line">    &#125; while (nRemaining != 0);</span><br><span class="line"></span><br><span class="line">    // Merge all remaining runs to complete sort</span><br><span class="line">    assert lo == hi;</span><br><span class="line">    ts.mergeForceCollapse();</span><br><span class="line">    assert ts.stackSize == 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Arrays&quot;&gt;&lt;a href=&quot;#Arrays&quot; class=&quot;headerlink&quot; title=&quot;Arrays&quot;&gt;&lt;/a&gt;Arrays&lt;/h3&gt;&lt;h4 id=&quot;copyOf&quot;&gt;&lt;a href=&quot;#copyOf&quot; class=&quot;headerlink&quot; titl
      
    
    </summary>
    
    
      <category term="jdk" scheme="http://yoursite.com/tags/jdk/"/>
    
  </entry>
  
  <entry>
    <title>ArrayList</title>
    <link href="http://yoursite.com/2019/07/26/ArrayList/"/>
    <id>http://yoursite.com/2019/07/26/ArrayList/</id>
    <published>2019-07-26T11:31:05.000Z</published>
    <updated>2019-08-05T01:13:45.013Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h3><h4 id="toArray-T-a"><a href="#toArray-T-a" class="headerlink" title="toArray(T[] a)"></a>toArray(T[] a)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public &lt;T&gt; T[] toArray(T[] a) &#123;</span><br><span class="line">    if (a.length &lt; size)</span><br><span class="line">        // Make a new array of a&apos;s runtime type, but my contents:</span><br><span class="line">        return (T[]) Arrays.copyOf(elementData, size, a.getClass());</span><br><span class="line">    System.arraycopy(elementData, 0, a, 0, size);</span><br><span class="line">    if (a.length &gt; size)</span><br><span class="line">        a[size] = null;</span><br><span class="line">    return a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨äº†Arrays.copyOfæ–¹æ³•</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;ArrayList&quot;&gt;&lt;a href=&quot;#ArrayList&quot; class=&quot;headerlink&quot; title=&quot;ArrayList&quot;&gt;&lt;/a&gt;ArrayList&lt;/h3&gt;&lt;h4 id=&quot;toArray-T-a&quot;&gt;&lt;a href=&quot;#toArray-T-a&quot; c
      
    
    </summary>
    
    
      <category term="collections" scheme="http://yoursite.com/tags/collections/"/>
    
  </entry>
  
  <entry>
    <title>MyBatiså…¥é—¨ï¼ˆç»­ï¼‰-CRUD</title>
    <link href="http://yoursite.com/2019/07/12/MyBatis%E5%85%A5%E9%97%A8%E7%BB%AD-CRUD%E6%B5%8B%E8%AF%95/"/>
    <id>http://yoursite.com/2019/07/12/MyBatiså…¥é—¨ç»­-CRUDæµ‹è¯•/</id>
    <published>2019-07-12T08:04:18.000Z</published>
    <updated>2019-08-14T09:38:11.533Z</updated>
    
    <content type="html"><![CDATA[<h4 id="æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢"><a href="#æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢" class="headerlink" title="æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢"></a>æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢</h4><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;findUserByName&quot; parameterType=&quot;java.lang.String&quot; resultType=&quot;com.example.mybatisdemo.bean.User&quot;&gt;</span><br><span class="line">        SELECT * FROM users WHERE name = #&#123;VALUE&#125;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></figure></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlSession.selectOne(&quot;test.findUserByName&quot;, &quot;yywang&quot;)</span><br></pre></td></tr></table></figure></li></ul><h4 id="æ¨¡ç³ŠæŸ¥è¯¢ï¼Œè¿”å›å¤šä¸ªå€¼"><a href="#æ¨¡ç³ŠæŸ¥è¯¢ï¼Œè¿”å›å¤šä¸ªå€¼" class="headerlink" title="æ¨¡ç³ŠæŸ¥è¯¢ï¼Œè¿”å›å¤šä¸ªå€¼"></a>æ¨¡ç³ŠæŸ¥è¯¢ï¼Œè¿”å›å¤šä¸ªå€¼</h4><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;findUserLikeName&quot; parameterType=&quot;java.lang.String&quot; resultType=&quot;com.example.mybatisdemo.bean.User&quot;&gt;</span><br><span class="line">        SELECT * FROM users WHERE name like #&#123;VALUE&#125;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></figure></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlSession.selectList(&quot;test.findUserLikeName&quot;, &quot;%yy%&quot;);</span><br></pre></td></tr></table></figure></li></ul><h4 id="æ·»åŠ æ•°æ®"><a href="#æ·»åŠ æ•°æ®" class="headerlink" title="æ·»åŠ æ•°æ®"></a>æ·»åŠ æ•°æ®</h4><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert id=&quot;insertUser&quot; parameterType=&quot;com.example.mybatisdemo.bean.User&quot;&gt;</span><br><span class="line">        &lt;selectKey keyProperty=&quot;id&quot; order=&quot;AFTER&quot; resultType=&quot;int&quot;&gt;</span><br><span class="line">            SELECT LAST_INSERT_ID()</span><br><span class="line">        &lt;/selectKey&gt;</span><br><span class="line">        INSERT into users(uname,sex,age,udesc) values (#&#123;uname&#125;,#&#123;sex&#125;,#&#123;age&#125;,#&#123;udesc&#125;)</span><br><span class="line">    &lt;/insert&gt;</span><br></pre></td></tr></table></figure></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User user = new User(&quot;bangni&quot;,&quot;female&quot;,22,&quot;tc&quot;);</span><br><span class="line">sqlSession.commit(); // å¿…åŠ </span><br></pre></td></tr></table></figure><h5 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h5><ul><li><em>selectKey</em> ç”¨æ¥é…ç½®è¿”å›ä¸»é”® </li><li><em>keyProperty</em>  è¡¨ä¸­ä¸»é”®çš„åç§°</li><li><em>order</em> è¡¨ç¤ºSELECT LAST_INSERT_ID()åœ¨insertè¯­å¥å‘ç”Ÿçš„é¡ºåºï¼Œafteræ„ä¸ºinsertæ‰§è¡Œä¹‹åè¿”å›ï¼Œç”¨äºè‡ªå¢ä¸»é”®ï¼ŒUUIDçš„æ–¹å¼å¯ä»¥é…ç½®ä¸ºbefore</li><li><em>resultType</em> è¿”å›å€¼ç±»å‹</li></ul><p><strong><em>æ³¨1ï¼šsqlè¯­å¥ä¸­æœ‰å¤šä¸ªå‚æ•°ï¼Œå ä½ç¬¦#{}ä¹Ÿéœ€è¦æŒ‡å®šä¸åŒçš„è¡¨ç¤ºæ–¹å¼ï¼Œå¦‚ä¸Š#{uname},#{sex}ç­‰</em></strong></p><p><strong><em>æ³¨2ï¼šsqlæ²¡é—®é¢˜è¿è¡ŒæŠ¥é”™ï¼Œå› ä¸ºä¹‹å‰çš„æ•°æ®è¡¨è®¾è®¡é—®é¢˜ï¼Œnameå’Œdescæ˜¯å…³é”®å­—ï¼Œè¿™é‡Œå¼€å§‹åšäº†ä¿®æ”¹</em></strong></p><p><strong><em>æ³¨3ï¼šä¿®æ”¹ä¹‹åè¿è¡Œé€šè¿‡ï¼Œæ•°æ®åº“æŸ¥ä¸åˆ°è®°å½•ï¼Œæƒ³åˆ°ä¹‹å‰æµ‹è¯•Junitå›è‡ªåŠ¨å›æ»šï¼Œäºæ˜¯æ·»åŠ @Rollbackæ³¨è§£å¯¼å…¥ä¾èµ–åè¿˜æ˜¯æ— æœï¼Œæœ€ç»ˆåŠ ä¸Šsession.commit()è§£å†³ï¼Œç”±äºMyBatisæ¥ç®¡äº†JDBCçš„äº‹åŠ¡ç®¡ç†å™¨ï¼ŒJDBCå›è‡ªåŠ¨æäº¤è€ŒMyBatisä¸ä¼šï¼Œè¿™é‡Œéœ€è¦è‡ªè¡Œæ‰‹åŠ¨æäº¤ï¼Œä¿®æ”¹åˆ é™¤åŒæ ·</em></strong></p></li></ul><h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;delete id=&quot;delUserById&quot; parameterType=&quot;int&quot;&gt;</span><br><span class="line">        delete from users where id = #&#123;id&#125;</span><br><span class="line">    &lt;/delete&gt;</span><br></pre></td></tr></table></figure></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sqlSession.delete(&quot;test.delUserById&quot;,3);</span><br><span class="line">  sqlSession.commit();</span><br></pre></td></tr></table></figure></li></ul><h4 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h4><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;update id=&quot;updateUserById&quot; parameterType=&quot;int&quot;&gt;</span><br><span class="line">        update users set age = 0 where id = #&#123;id&#125;</span><br><span class="line">    &lt;/update&gt;</span><br></pre></td></tr></table></figure></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sqlSession.update(&quot;test.updateUserById&quot;,8);</span><br><span class="line">  sqlSession.commit();</span><br></pre></td></tr></table></figure></li></ul><h4 id="æŸ¥çœ‹æœ€åæ‰§è¡Œçš„SQL"><a href="#æŸ¥çœ‹æœ€åæ‰§è¡Œçš„SQL" class="headerlink" title="æŸ¥çœ‹æœ€åæ‰§è¡Œçš„SQL"></a>æŸ¥çœ‹æœ€åæ‰§è¡Œçš„SQL</h4><p>åªéœ€åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®å³å¯æ‰“å°æŸ¥è¯¢è¯­å¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;settings&gt;</span><br><span class="line">        &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot; /&gt;</span><br><span class="line">    &lt;/settings&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢&quot;&gt;&lt;a href=&quot;#æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢&quot; class=&quot;headerlink&quot; title=&quot;æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢&quot;&gt;&lt;/a&gt;æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;
      
    
    </summary>
    
      <category term="MyBatis" scheme="http://yoursite.com/categories/MyBatis/"/>
    
    
      <category term="MyBatis" scheme="http://yoursite.com/tags/MyBatis/"/>
    
  </entry>
  
  <entry>
    <title>IDEAé…ç½®Junitæµ‹è¯•</title>
    <link href="http://yoursite.com/2019/07/12/IDEA%E9%85%8D%E7%BD%AEJunit%E6%B5%8B%E8%AF%95/"/>
    <id>http://yoursite.com/2019/07/12/IDEAé…ç½®Junitæµ‹è¯•/</id>
    <published>2019-07-12T07:10:02.000Z</published>
    <updated>2019-07-12T07:28:44.583Z</updated>
    
    <content type="html"><![CDATA[<p>çœ‹äº†å¾ˆå¤šåšå®¢åæ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒä¹±ï¼Œè¿™ç¯‡è¿˜ä¸é”™é©¬ä¸€ä¸‹<br><em><a href="https://blog.csdn.net/hanchao5272/article/details/79197989" target="_blank" rel="noopener">https://blog.csdn.net/hanchao5272/article/details/79197989</a></em></p><h4 id="1-å®‰è£…æ’ä»¶"><a href="#1-å®‰è£…æ’ä»¶" class="headerlink" title="1.å®‰è£…æ’ä»¶"></a>1.å®‰è£…æ’ä»¶</h4><p>File-&gt;setting-&gt;Plugins-&gt;æœç´¢å¹¶å®‰è£…Junit Generator 2.0-&gt;é‡å¯IDEA</p><h4 id="2-é…ç½®æ’ä»¶"><a href="#2-é…ç½®æ’ä»¶" class="headerlink" title="2.é…ç½®æ’ä»¶"></a>2.é…ç½®æ’ä»¶</h4><p>File-&gt;setting-&gt;    OtherSettings-&gt;Junit Generator-&gt;properties</p><ul><li>ä¿®æ”¹<em>Output Path[è¾“å‡ºè·¯å¾„]</em>ä¸º<em>${SOURCEPATH}/../../test/java/${PACKAGE}/${FILENAME}</em></li><li>ä¿®æ”¹ Default Template[é»˜è®¤æ¨¡æ¿]ä¸ºJUnit4</li><li>é€‰ä¸­JUnit4é¡µç­¾ï¼Œå°†<em>package test.$entry.packageName;</em> ä¿®æ”¹æˆ<em>package $entry.packageName;</em></li></ul><h4 id="3-é…ç½®æµ‹è¯•çš„ç›®å½•"><a href="#3-é…ç½®æµ‹è¯•çš„ç›®å½•" class="headerlink" title="3.é…ç½®æµ‹è¯•çš„ç›®å½•"></a>3.é…ç½®æµ‹è¯•çš„ç›®å½•</h4><p>File-&gt;Project Structure-&gt;Modulesä¸­å°†æµ‹è¯•ç›®å½•è®¾ç½®ä¸ºTest Source Floder</p><h4 id="4-ç”Ÿæˆæµ‹è¯•ç±»"><a href="#4-ç”Ÿæˆæµ‹è¯•ç±»" class="headerlink" title="4.ç”Ÿæˆæµ‹è¯•ç±»"></a>4.ç”Ÿæˆæµ‹è¯•ç±»</h4><ul><li>åœ¨è¦æµ‹è¯•çš„ç±»ä¸­ç”¨å¿«æ·é”® alt+insert -&gt; Junit Test -&gt; Junit4</li></ul><h4 id="5-æµ‹è¯•"><a href="#5-æµ‹è¯•" class="headerlink" title="5.æµ‹è¯•"></a>5.æµ‹è¯•</h4><ul><li>é¼ æ ‡å³é”®èœå•<ul><li>å°†é¼ æ ‡å…‰æ ‡æ”¾åœ¨æ–¹æ³•ç›¸å…³ä»£ç ä¸­ï¼Œå³é”®å¼¹å‡ºèœå•ä¸­ä¼šæ˜¾ç¤ºè¿è¡Œæ­¤æµ‹è¯•æ–¹æ³•çš„èœå•ï¼Œç‚¹å‡»å°±ä¼šè¿è¡Œæ–¹æ³•å•ç‹¬æµ‹è¯•ã€‚<br>å°†é¼ æ ‡å…‰æ ‡æ”¾åœ¨æ–¹æ³•ä¹‹å¤–çš„ä»£ç ä¸­ï¼Œå³é”®å¼¹å‡ºèœå•ä¸­ä¼šæ˜¾ç¤ºè¿è¡Œæ­¤ç±»çš„æ‰€æœ‰æµ‹è¯•æ–¹æ³•çš„èœå•ï¼Œç‚¹å‡»å°±ä¼šè¿è¡Œæ‰€æœ‰æµ‹è¯•æ–¹æ³•ã€‚</li></ul></li><li>å¿«æ·é”®<ul><li>å°†é¼ æ ‡å…‰æ ‡æ”¾åœ¨æ–¹æ³•ç›¸å…³ä»£ç ä¸­ï¼Œé€šè¿‡å¿«æ·é”®Ctrl+Shift+F10ï¼Œè¿è¡Œå½“å‰æµ‹è¯•æ–¹æ³•ã€‚</li><li>å°†é¼ æ ‡å…‰æ ‡æ”¾åœ¨æ–¹æ³•ä¹‹å¤–çš„ä»£ç ä¸­ï¼Œé€šè¿‡å¿«æ·é”®Ctrl+Shift+F10ï¼Œè¿è¡Œå½“å‰ç±»çš„æ‰€æœ‰æµ‹è¯•æ–¹æ³•ã€‚</li></ul></li><li>å¿«æ·æŒ‰é’®<ul><li>ç‚¹å‡»æ–¹æ³•å·¦ä¾§çš„Run TestæŒ‰é’®ï¼Œè¿è¡Œå½“å‰æµ‹è¯•æ–¹æ³•ã€‚</li><li>ç‚¹å‡»ç±»å·¦ä¾§çš„Run TestæŒ‰é’®ï¼Œè¿è¡Œå½“å‰ç±»çš„æ‰€æœ‰æµ‹è¯•æ–¹æ³•ã€‚</li></ul></li></ul><h4 id="6-æµ‹è¯•ç»“æœ"><a href="#6-æµ‹è¯•ç»“æœ" class="headerlink" title="6.æµ‹è¯•ç»“æœ"></a>6.æµ‹è¯•ç»“æœ</h4><p><img src="/images/pasted-12.png" alt="upload successful"></p><ul><li>1.æ–¹æ³•æµ‹è¯•æˆåŠŸ</li><li>2.æ–¹æ³•æµ‹è¯•å¤±è´¥</li><li>3.æµ‹è¯•ç”¨æ—¶ï¼ˆæ¯«ç§’ï¼‰</li><li>4.æœŸæœ›å€¼</li><li>5.å®é™…å€¼</li><li>6.å¼‚å¸¸ä¿¡æ¯</li></ul><h4 id="7-å¼‚å¸¸"><a href="#7-å¼‚å¸¸" class="headerlink" title="7.å¼‚å¸¸"></a>7.å¼‚å¸¸</h4><ul><li><img src="/images/pasted-13.png" alt="upload successful"></li><li>åŸå› ï¼š4.11ä»¥ä¸Šç‰ˆæœ¬ä¸åœ¨åŒ…å«hamcrest</li><li>è§£å†³ï¼šæ”¹ç”¨4.10  ^_^</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;çœ‹äº†å¾ˆå¤šåšå®¢åæ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒä¹±ï¼Œè¿™ç¯‡è¿˜ä¸é”™é©¬ä¸€ä¸‹&lt;br&gt;&lt;em&gt;&lt;a href=&quot;https://blog.csdn.net/hanchao5272/article/details/79197989&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https:
      
    
    </summary>
    
      <category term="IDEA" scheme="http://yoursite.com/categories/IDEA/"/>
    
    
      <category term="IDEA" scheme="http://yoursite.com/tags/IDEA/"/>
    
  </entry>
  
  <entry>
    <title>MyBatiså…¥é—¨</title>
    <link href="http://yoursite.com/2019/07/12/MyBatis%E5%85%A5%E9%97%A8/"/>
    <id>http://yoursite.com/2019/07/12/MyBatiså…¥é—¨/</id>
    <published>2019-07-12T05:16:20.000Z</published>
    <updated>2019-07-12T06:21:23.205Z</updated>
    
    <content type="html"><![CDATA[<h4 id="MyBatisç¯å¢ƒ"><a href="#MyBatisç¯å¢ƒ" class="headerlink" title="MyBatisç¯å¢ƒ"></a>MyBatisç¯å¢ƒ</h4><h5 id="é¦–å…ˆå‡†å¤‡æ•°æ®åº“è¡¨"><a href="#é¦–å…ˆå‡†å¤‡æ•°æ®åº“è¡¨" class="headerlink" title="é¦–å…ˆå‡†å¤‡æ•°æ®åº“è¡¨"></a>é¦–å…ˆå‡†å¤‡æ•°æ®åº“è¡¨</h5><ul><li>å¯¹åº”çš„å®ä½“ç±»ä¸º</li></ul><ul><li><figure class="highlight plain"><figcaption><span>class User &#123;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> private int id;</span><br><span class="line"> private String name;</span><br><span class="line"> private String sex;</span><br><span class="line"> private int age;</span><br><span class="line"> private String desc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="æ•°æ®åº“é…ç½®æ–‡ä»¶-SqlMapConfig-xml"><a href="#æ•°æ®åº“é…ç½®æ–‡ä»¶-SqlMapConfig-xml" class="headerlink" title="æ•°æ®åº“é…ç½®æ–‡ä»¶ SqlMapConfig.xml"></a>æ•°æ®åº“é…ç½®æ–‡ä»¶ <em>SqlMapConfig.xml</em></h5><ul><li>é…ç½®æ•°æ®åº“ç¯å¢ƒç›¸å…³</li></ul><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;environments default=&quot;development&quot;&gt;</span><br><span class="line">        &lt;environment id=&quot;development&quot;&gt;</span><br><span class="line">            &lt;transactionManager type=&quot;JDBC&quot;/&gt;</span><br><span class="line">            &lt;dataSource type=&quot;POOLED&quot;&gt;</span><br><span class="line">                &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/test?characterEncoding=utf-8&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">            &lt;/dataSource&gt;</span><br><span class="line">        &lt;/environment&gt;</span><br><span class="line"> &lt;/environments&gt;</span><br></pre></td></tr></table></figure></li></ul><h5 id="sqlæ˜ å°„æ–‡ä»¶-user-xml"><a href="#sqlæ˜ å°„æ–‡ä»¶-user-xml" class="headerlink" title="sqlæ˜ å°„æ–‡ä»¶ user.xml"></a>sqlæ˜ å°„æ–‡ä»¶ <em>user.xml</em></h5><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span><br><span class="line">&lt;mapper namespace=&quot;test&quot;&gt;</span><br><span class="line">    &lt;select id=&quot;findUserById&quot; parameterType=&quot;int&quot; resultType=&quot;com.example.mybatisdemo.bean.User&quot;&gt;</span><br><span class="line">        SELECT * FROM user WHERE id =#&#123;VALUE&#125;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure></li></ul><h5 id="å°†sqlæ˜ å°„æ·»åŠ åˆ°SqlMapConfig-xmlä¸­"><a href="#å°†sqlæ˜ å°„æ·»åŠ åˆ°SqlMapConfig-xmlä¸­" class="headerlink" title="å°†sqlæ˜ å°„æ·»åŠ åˆ°SqlMapConfig.xmlä¸­"></a>å°†sqlæ˜ å°„æ·»åŠ åˆ°SqlMapConfig.xmlä¸­</h5><ul><li>æœ€ç»ˆçš„é…ç½®æ–‡ä»¶ä¸º</li></ul><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;environments default=&quot;development&quot;&gt;</span><br><span class="line">        &lt;environment id=&quot;development&quot;&gt;</span><br><span class="line">            &lt;transactionManager type=&quot;JDBC&quot;/&gt;</span><br><span class="line">            &lt;dataSource type=&quot;POOLED&quot;&gt;</span><br><span class="line">                &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/test?characterEncoding=utf-8&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">            &lt;/dataSource&gt;</span><br><span class="line">        &lt;/environment&gt;</span><br><span class="line">    &lt;/environments&gt;</span><br><span class="line">    &lt;mappers&gt;</span><br><span class="line">        &lt;mapper resource=&quot;mapper/user.xml&quot;/&gt;</span><br><span class="line">    &lt;/mappers&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure></li></ul><h5 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h5><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">String resource = &quot;SqlMapConfig.xml&quot;;</span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        SqlSession sqlSession = factory.openSession();</span><br><span class="line"> Â  Â  Â  Â // å‚æ•°1 sqlæ˜ å°„ä¸­çš„ namespace + &quot;.&quot; + sqlId</span><br><span class="line"> Â  Â  Â  Â // å‚æ•°2ä¸ºsqlçš„å‚æ•°</span><br><span class="line"> Â  Â  Â  Â User user = sqlSession.selectOne(&quot;test.findUserById&quot;, 1);</span><br><span class="line">        System.out.println(user.toString());</span><br><span class="line"> Â  Â  Â  Â sqlSession.close();</span><br></pre></td></tr></table></figure></li></ul><h4 id="ç†è§£"><a href="#ç†è§£" class="headerlink" title="ç†è§£"></a>ç†è§£</h4><p><em>åŸºäºsqlè¯­å¥çš„è½»é‡çº§ORMæ¡†æ¶ï¼Œå°†sqlè¯­å¥å†™å…¥é…ç½®æ–‡ä»¶æ˜ å°„ä¸­ï¼Œè¿›ä¸€æ­¥è§£è€¦ï¼Œä½†æ˜¯å¤šäº†ä¸€æ­¥æ“ä½œæ„Ÿè§‰æ¯”hibernateç¹çä¸€äº›ï¼Œä½†æ˜¯æ¯”hibernateè¦å¿«ï¼Œæœ‰èˆæœ‰å¾—å§ï¼ˆä¸ºä»€ä¹ˆå¿«è¿˜ä¸çŸ¥é“ï¼Œåç»­å†çœ‹å§â•®(â•¯â–½â•°)â•­ ï¼‰</em></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;MyBatisç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#MyBatisç¯å¢ƒ&quot; class=&quot;headerlink&quot; title=&quot;MyBatisç¯å¢ƒ&quot;&gt;&lt;/a&gt;MyBatisç¯å¢ƒ&lt;/h4&gt;&lt;h5 id=&quot;é¦–å…ˆå‡†å¤‡æ•°æ®åº“è¡¨&quot;&gt;&lt;a href=&quot;#é¦–å…ˆå‡†å¤‡æ•°æ®åº“è¡¨&quot; class=&quot;
      
    
    </summary>
    
    
      <category term="MyBatis" scheme="http://yoursite.com/tags/MyBatis/"/>
    
  </entry>
  
  <entry>
    <title>SpringMVCå…¥é—¨</title>
    <link href="http://yoursite.com/2019/07/11/SpringMVC/"/>
    <id>http://yoursite.com/2019/07/11/SpringMVC/</id>
    <published>2019-07-11T07:22:35.000Z</published>
    <updated>2019-07-12T05:15:14.178Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SpringMVCé…ç½®"><a href="#SpringMVCé…ç½®" class="headerlink" title="SpringMVCé…ç½®"></a>SpringMVCé…ç½®</h2><p><em>æ³¨è§£&amp;é…ç½®æ–‡ä»¶</em></p><h3 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h3><h4 id="web-xml"><a href="#web-xml" class="headerlink" title="web.xml"></a>web.xml</h4><ul><li><p><img src="/images/pasted-5.png" alt="upload successful"></p></li><li><p>â‘ æŒ‡å®šSpringé…ç½®æ–‡ä»¶çš„ä½ç½®</p></li><li><p>â‘¡é…ç½®Listenerï¼Œåˆå§‹åŒ–SpringIOCå®¹å™¨</p></li><li><p>â‘¢é…ç½®å‰ç«¯æ§åˆ¶å™¨servletï¼Œå…¶ä¸­å¯ä»¥è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä½ç½®ï¼Œä¸é…ç½®é»˜è®¤å¯»æ‰¾xxxx-servlet.xmlçš„é…ç½®æ–‡ä»¶</p></li><li><p>url-patternä¸­/å’Œ/*åŒºåˆ«</p><ul><li>/*    åŒ¹é…æ‰€æœ‰url  æœ‰åç¼€æˆ–è€…æ— åç¼€éƒ½ä¼šåŒ¹é…   .jsp  .css  .js</li><li>/      åªåŒ¹é…æ— åç¼€çš„url</li></ul></li></ul><p><strong><em>æ³¨ï¼šæˆªå›¾ä¸ºé¡¹ç›®ä¸­çš„é…ç½®  è‡ªå·±æµ‹è¯•æ—¶æ”¹ä¸º /  é¡¹ç›®ä¸­æ‹¦æˆªæ‰€æœ‰é¡µé¢åº”è¯¥ä¼šæœ‰æ‹¦æˆªå™¨æˆ–è€…è¿‡æ»¤å™¨åšå¤„ç†ï¼Œdemoä¸­å¦‚æœé…ç½®æˆæˆªå›¾è¿™æ ·ä¼šæŠ¥é”™</em></strong></p><h4 id="springmvc-servlet-xml"><a href="#springmvc-servlet-xml" class="headerlink" title="springmvc-servlet.xml"></a>springmvc-servlet.xml</h4><p><img src="/images/pasted-6.png" alt="upload successful"></p><ul><li><p>æŒ‡å®šåŸºç¡€åŒ…åscanï¼Œå°†æŒ‡å®šçš„åŒ…åæ³¨å…¥SpringIOCå®¹å™¨ï¼ˆå…ˆè¦æ·»åŠ contextçš„xsdçº¦æŸï¼‰</p><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br></pre></td></tr></table></figure><p>xsiä¸­æ·»åŠ <br>â€œ<a href="http://www.springframework.org/schema/context" target="_blank" rel="noopener">http://www.springframework.org/schema/context</a>       <a href="http://www.springframework.org/schema/context/spring-context.xsd&quot;" target="_blank" rel="noopener">http://www.springframework.org/schema/context/spring-context.xsd&quot;</a></p></li></ul></li></ul><ul><li><p>exclude-filter æŒ‡å®šç±»ä¸Springå®¹å™¨åˆ†å¼€åŠ è½½ï¼ˆå…ˆè¿™ä¹ˆç†è§£ï¼‰</p></li><li><p>é…ç½®è§†å›¾è§£æå™¨ï¼ˆå‰ç¼€å’Œåç¼€ï¼‰</p></li></ul><p><strong>æ–¹æ³•ä¸­ä½¿ç”¨@RequestMapping(value=â€searchâ€)  ç†è§£ä¸ºåŒ¹é…URLä¸­searchçš„å­—æ ·</strong></p><p><strong>æ–¹æ³•return â€œiface/manageâ€;  ä»åŒ¹é…çš„å‰åç¼€ä¸­å¯»æ‰¾åº”è¯¥è¿”å›çš„è§†å›¾ï¼Œä¾‹å¦‚é€šè¿‡ä¸Šå›¾çš„é…ç½®æ‰¾åˆ°/iface/manage.vm</strong></p><p><em>åœ¨Controllerç±»ä¸Šæ·»åŠ @Controllerï¼Œæ–¹æ³•ä¸Šæ·»åŠ @RequestMapping(â€œxxxxâ€)ï¼Œå³å¯å®Œæˆæ˜ å°„</em></p><h4 id="é…ç½®å®Œæˆè®¿é—®æŠ¥é”™"><a href="#é…ç½®å®Œæˆè®¿é—®æŠ¥é”™" class="headerlink" title="é…ç½®å®Œæˆè®¿é—®æŠ¥é”™"></a>é…ç½®å®Œæˆè®¿é—®æŠ¥é”™</h4><p><img src="/images/pasted-7.png" alt="upload successful"></p><ul><li><p>æ²¡æœ‰jstlæ ‡ç­¾åº“ï¼Œå¯¼å…¥ä¾èµ–å³å¯</p></li><li><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><h4 id="web-xml-1"><a href="#web-xml-1" class="headerlink" title="web.xml"></a>web.xml</h4><ul><li>å’Œæ³¨è§£æ–¹å¼ä¸€æ ·<br><img src="/images/pasted-8.png" alt="upload successful"><h4 id="springmvc-servlet-xml-1"><a href="#springmvc-servlet-xml-1" class="headerlink" title="springmvc-servlet.xml"></a>springmvc-servlet.xml</h4></li><li><img src="/images/pasted-9.png" alt="upload successful"></li><li>â‘ é…ç½®å¤„ç†å™¨æ˜ å°„å™¨</li><li>â‘¡é…ç½®å¤„ç†å™¨é€‚é…å™¨</li><li>â‘¢é…ç½®è§†å›¾è§£æå™¨ï¼ˆåŒæ³¨è§£æ–¹å¼ï¼‰</li><li>â‘£é…ç½®æ˜ å°„ï¼ˆç›¸å½“äºæ³¨è§£ä¸­çš„@RequestMappingï¼‰</li></ul><p><em>ç›¸è¾ƒäºæ³¨è§£æ–¹å¼è¯¥é…ç½®æ–‡ä»¶ä¸­å¤šäº†å¯¹ å¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ ä»¥åŠæ˜ å°„çš„é…ç½®</em></p><p><em>å®ç°æ–¹é¢åœ¨controllerç±»ä¸­ä¸æ·»åŠ ä»»ä½•æ³¨è§£ï¼Œå®ç°Controlleræ¥å£ï¼Œé‡å†™æ–¹æ³•å³å¯</em></p><p>demoï¼š<a href="https://github.com/panniyuyu/frameworkdemo.git" target="_blank" rel="noopener">https://github.com/panniyuyu/frameworkdemo.git</a></p><h2 id="ç†è§£"><a href="#ç†è§£" class="headerlink" title="ç†è§£"></a>ç†è§£</h2><p>é€šè¿‡ä½¿ç”¨ä¸åŒæ–¹å¼å¯¹springMVCè¿›è¡Œé…ç½®ï¼Œæ„Ÿè§‰å¯¹SpringMVCæ¡†æ¶å¤§è‡´çš„åŸç†æœ‰ä¸€äº›è®¤è¯†</p><p>SpringMVCä½¿å°†MVCçš„æ¨¡å¼è¿›ä¸€æ­¥æ‹†åˆ†è§£è€¦ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸»è¦åŒ…å«4ä¸ªä¸»è¦çš„éƒ¨åˆ†ä¾æ¬¡æ˜¯ å‰ç«¯æ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰ã€å¤„ç†å™¨æ˜ å°„å™¨ï¼ˆHandlerMappingï¼‰ã€å¤„ç†å™¨é€‚é…å™¨ï¼ˆHandlerAdapterï¼‰ã€è§†å›¾è§£æå™¨ï¼ˆViewResolverï¼‰</p><p><img src="/images/pasted-10.png" alt="upload successful"></p><ul><li>1.ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼Œè¢«å‰ç«¯æ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰æ‹¦æˆªï¼Œå¹¶æ ¹æ®è¯·æ±‚å†…å®¹è¯¢é—®å¤„ç†å™¨æ˜ å°„å™¨ï¼ˆHandlerMappingï¼‰æ”¹è¯·æ±‚åº”è¯¥ç”±å“ªä¸ªControllerå¤„ç†ï¼Œå¤„ç†å™¨æ˜ å°„å™¨å°†åŒ¹é…åˆ°çš„Controllerä¿¡æ¯è¿”å›ç»™å‰ç«¯æ§åˆ¶å™¨</li><li>2.å‰ç«¯æ§åˆ¶å™¨çŸ¥é“è¯¥è¯·æ±‚åº”è¯¥ç”±å“ªä¸ªControllerå¤„ç†ï¼Œä½†ä¸ä¼šè‡ªå·±å¤„ç†ï¼Œå°†Controllerä¿¡æ¯äº¤ç»™å¤„ç†å™¨é€‚é…å™¨ï¼ˆHandlerAdapterï¼‰å¤„ç†ï¼Œè¿”å›ModelAndViewå¯¹è±¡</li><li>3.å‰ç«¯æ§åˆ¶å™¨å¾—åˆ°ModelAndViewå¯¹è±¡å°†å…¶è½¬å‘ç»™è§†å›¾è§£æå™¨ï¼Œå°†å¯¹è±¡è§£ææˆviewé¡µé¢è¿”å›</li><li>4.å‰ç«¯æ§åˆ¶å™¨å°†viewé¡µé¢ç›¸åº”ç»™æµè§ˆå™¨</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;SpringMVCé…ç½®&quot;&gt;&lt;a href=&quot;#SpringMVCé…ç½®&quot; class=&quot;headerlink&quot; title=&quot;SpringMVCé…ç½®&quot;&gt;&lt;/a&gt;SpringMVCé…ç½®&lt;/h2&gt;&lt;p&gt;&lt;em&gt;æ³¨è§£&amp;amp;é…ç½®æ–‡ä»¶&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;æ³¨
      
    
    </summary>
    
    
      <category term="SpringMVC" scheme="http://yoursite.com/tags/SpringMVC/"/>
    
  </entry>
  
  <entry>
    <title>org.apache.tomcat.util.bcel.classfile.ClassFormatException</title>
    <link href="http://yoursite.com/2019/07/11/%E5%BC%82%E5%B8%B8/"/>
    <id>http://yoursite.com/2019/07/11/å¼‚å¸¸/</id>
    <published>2019-07-11T03:41:21.000Z</published>
    <updated>2019-07-11T10:21:53.613Z</updated>
    
    <content type="html"><![CDATA[<h4 id="org-apache-tomcat-util-bcel-classfile-ClassFormatException"><a href="#org-apache-tomcat-util-bcel-classfile-ClassFormatException" class="headerlink" title="org.apache.tomcat.util.bcel.classfile.ClassFormatException"></a>org.apache.tomcat.util.bcel.classfile.ClassFormatException</h4><ul><li><img src="/images/pasted-4.png" alt="upload successful"></li><li>åŸå› ï¼šjdkç‰ˆæœ¬ä¸å…¼å®¹</li><li>åŸç¯å¢ƒ jkd8+tomcat7+spring4  </li><li>è§£å†³ï¼štomcat7æ¢tomcat8</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;org-apache-tomcat-util-bcel-classfile-ClassFormatException&quot;&gt;&lt;a href=&quot;#org-apache-tomcat-util-bcel-classfile-ClassFormatException&quot; cl
      
    
    </summary>
    
    
      <category term="exception" scheme="http://yoursite.com/tags/exception/"/>
    
  </entry>
  
  <entry>
    <title>IDEAä½¿ç”¨ç¬”è®°</title>
    <link href="http://yoursite.com/2019/07/11/IDEA%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2019/07/11/IDEAä½¿ç”¨ç¬”è®°/</id>
    <published>2019-07-11T03:22:21.000Z</published>
    <updated>2019-11-01T06:31:23.738Z</updated>
    
    <content type="html"><![CDATA[<h4 id="é…ç½®Tomcat"><a href="#é…ç½®Tomcat" class="headerlink" title="é…ç½®Tomcat"></a>é…ç½®Tomcat</h4><p>Run-&gt;Edit Configurations-&gt;Telplatesä¸­é…ç½®ååœ¨è¯¥é¡µé¢å·¦ä¸Šè§’æ·»åŠ -&gt;é€‰ä¸­Tomcatçš„Deploymentç‚¹å‡»éƒ¨ç½²(é€‰ç”¨Artifactsæ–¹å¼)</p><h4 id="é…ç½®æ–‡ä»¶å–æ¶ˆUnicodeç¼–ç "><a href="#é…ç½®æ–‡ä»¶å–æ¶ˆUnicodeç¼–ç " class="headerlink" title="é…ç½®æ–‡ä»¶å–æ¶ˆUnicodeç¼–ç "></a>é…ç½®æ–‡ä»¶å–æ¶ˆUnicodeç¼–ç </h4><p>File-&gt;Setting-&gt;æœç´¢file encoding-&gt;å‹¾é€‰Transparent native-to-ascii conversion</p><h4 id="æ–‡ä»¶ç›®å½•å˜çº¢è‰²"><a href="#æ–‡ä»¶ç›®å½•å˜çº¢è‰²" class="headerlink" title="æ–‡ä»¶ç›®å½•å˜çº¢è‰²"></a>æ–‡ä»¶ç›®å½•å˜çº¢è‰²</h4><p><img src="/images/pasted-1.png" alt="upload successful"></p><ul><li>è§£é™¤ç‰ˆæœ¬æ§åˆ¶å³å¯ file-&gt;setting-&gt;version control-&gt;å³ä¸Šè§’åŠ å·-&gt;æ·»åŠ é¡¹ç›®ç›®å½•å³å¯</li></ul><h4 id="æ–°å»ºçš„mavené¡¹ç›®æ²¡æœ‰webé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œä¹Ÿæ²¡æœ‰web-xml"><a href="#æ–°å»ºçš„mavené¡¹ç›®æ²¡æœ‰webé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œä¹Ÿæ²¡æœ‰web-xml" class="headerlink" title="æ–°å»ºçš„mavené¡¹ç›®æ²¡æœ‰webé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œä¹Ÿæ²¡æœ‰web.xml"></a>æ–°å»ºçš„mavené¡¹ç›®æ²¡æœ‰webé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œä¹Ÿæ²¡æœ‰web.xml</h4><ul><li>å¢åŠ mainç›®å½•ä¸‹å¢åŠ /webapp/WEB-INFç›®å½•</li><li>File-&gt;Project Structure-&gt;facets-&gt;åŠ å·-&gt;é€‰ä¸­ç›®å½•</li><li>ç¡®è®¤è·¯å¾„depolymentè·¯å¾„ä¸ºâ€¦./webapp/WEB-INF/web.xml</li><li>ç¡®è®¤è·¯å¾„resourceè·¯å¾„ä¸º â€¦./webapp/</li></ul><p><strong>ç›´æ¥åˆ›å»ºmaven webé¡¹ç›®æœ€ä¸ºç®€å•</strong></p><ul><li>createProject-&gt;maven-&gt;å‹¾é€‰Creater from archetype-&gt;é€‰æ‹© <strong><em>maven-archetype-webapp</em></strong> </li><li><img src="/images/pasted-2.png" alt="upload successful"></li></ul><h4 id="å³é”®æ²¡æœ‰new-package"><a href="#å³é”®æ²¡æœ‰new-package" class="headerlink" title="å³é”®æ²¡æœ‰new package"></a>å³é”®æ²¡æœ‰new package</h4><p>ä¿®æ”¹ç›®å½•æ€§è´¨ï¼Œåœ¨è¯¥ç›®å½•å³é”®-&gt;Mark Directory as-&gt;Source Root</p><h4 id="å‘å¸ƒæ–¹å¼ï¼ˆå‚è€ƒhttps-www-cnblogs-com-dpl9963-p-10075456-htmlï¼‰"><a href="#å‘å¸ƒæ–¹å¼ï¼ˆå‚è€ƒhttps-www-cnblogs-com-dpl9963-p-10075456-htmlï¼‰" class="headerlink" title="å‘å¸ƒæ–¹å¼ï¼ˆå‚è€ƒhttps://www.cnblogs.com/dpl9963/p/10075456.htmlï¼‰"></a>å‘å¸ƒæ–¹å¼ï¼ˆå‚è€ƒ<a href="https://www.cnblogs.com/dpl9963/p/10075456.htmlï¼‰" target="_blank" rel="noopener">https://www.cnblogs.com/dpl9963/p/10075456.htmlï¼‰</a></h4><ul><li>jarï¼šJava ARchriveï¼Œä»…ä»…æ˜¯ç¼–è¯‘å¥½çš„Javaç±»çš„èšåˆ</li><li>warï¼šWeb application ARchriveï¼Œé™¤Javaç±»ä¹‹å¤–è¿˜åŒ…å«jspï¼Œconfigç­‰é™æ€èµ„æºçš„èšåˆ</li><li>explodedï¼šç†è§£ä¸ºå±•å¼€ä¸å‹ç¼©ï¼Œjarå’Œwaræ˜¯å‹ç¼©çš„ç›®å½•èŠ‚åï¼Œexplodedè¡¨ç¤ºä¸å‹ç¼©çš„æ–‡ä»¶ç›®å½•ï¼Œå¼€å‘æ˜¯ç”¨è¯¥æ–¹å¼è¾ƒå¥½ï¼Œæ–‡ä»¶æ›´æ”¹åä¸ç”¨é‡æ–°å¯åŠ¨æœåŠ¡å™¨çœ‹åˆ°æ•ˆæœ</li></ul><h4 id="Debugæ¨¡å¼"><a href="#Debugæ¨¡å¼" class="headerlink" title="Debugæ¨¡å¼"></a>Debugæ¨¡å¼</h4><ul><li>å¿«æ·é”®æ”¹ä¸ºeclipseåï¼ŒF5ï¼ŒF6ä¸å˜ï¼Œeclipseçš„F8å˜ä¸ºF9ï¼ˆç¨‹åºæ”¾è¡Œï¼‰</li></ul><h4 id="ä¿®æ”¹æ–‡ä»¶åæ²¡æœ‰æ•ˆæœå¿…é¡»é‡å¯tomcat-çƒ­éƒ¨ç½²"><a href="#ä¿®æ”¹æ–‡ä»¶åæ²¡æœ‰æ•ˆæœå¿…é¡»é‡å¯tomcat-çƒ­éƒ¨ç½²" class="headerlink" title="ä¿®æ”¹æ–‡ä»¶åæ²¡æœ‰æ•ˆæœå¿…é¡»é‡å¯tomcat  çƒ­éƒ¨ç½²"></a>ä¿®æ”¹æ–‡ä»¶åæ²¡æœ‰æ•ˆæœå¿…é¡»é‡å¯tomcat  çƒ­éƒ¨ç½²</h4><ul><li>runConfigurationsä¸­é…ç½®</li><li><img src="/images/pasted-3.png" alt="upload successful"></li></ul><h4 id="éƒ¨ç½²é¡¹ç›®åˆ°tomcatä¸Šï¼Œè¿™é‡Œçš„urlä¸€å®šè¦æ”¹æˆ"><a href="#éƒ¨ç½²é¡¹ç›®åˆ°tomcatä¸Šï¼Œè¿™é‡Œçš„urlä¸€å®šè¦æ”¹æˆ" class="headerlink" title="éƒ¨ç½²é¡¹ç›®åˆ°tomcatä¸Šï¼Œè¿™é‡Œçš„urlä¸€å®šè¦æ”¹æˆ /"></a>éƒ¨ç½²é¡¹ç›®åˆ°tomcatä¸Šï¼Œè¿™é‡Œçš„urlä¸€å®šè¦æ”¹æˆ /</h4><p><img src="/images/pasted-11.png" alt="upload successful"></p><h4 id="å¯åŠ¨tomcatæ—¥å¿—è¾“å‡ºä¹±ç -æ·‡â„ƒä¼…ï¼ˆhttps-www-cnblogs-com-Yin-BoKeYuan-p-10320622-htmlï¼‰"><a href="#å¯åŠ¨tomcatæ—¥å¿—è¾“å‡ºä¹±ç -æ·‡â„ƒä¼…ï¼ˆhttps-www-cnblogs-com-Yin-BoKeYuan-p-10320622-htmlï¼‰" class="headerlink" title="å¯åŠ¨tomcatæ—¥å¿—è¾“å‡ºä¹±ç  æ·‡â„ƒä¼…ï¼ˆhttps://www.cnblogs.com/Yin-BoKeYuan/p/10320622.htmlï¼‰"></a>å¯åŠ¨tomcatæ—¥å¿—è¾“å‡ºä¹±ç  æ·‡â„ƒä¼…ï¼ˆ<a href="https://www.cnblogs.com/Yin-BoKeYuan/p/10320622.htmlï¼‰" target="_blank" rel="noopener">https://www.cnblogs.com/Yin-BoKeYuan/p/10320622.htmlï¼‰</a></h4><p>æ‰“å¼€åˆ°tomcatå®‰è£…ç›®å½•ä¸‹çš„conf/æ–‡ä»¶å¤¹ ä¿®æ”¹logging.propertiesæ–‡ä»¶ï¼Œ<br>æ‰¾åˆ° java.util.logging.ConsoleHandler.encoding = utf-8<br>æ›´æ”¹ä¸º java.util.logging.ConsoleHandler.encoding = GBK</p><h4 id="Javaåº”ç”¨çƒ­å¯åŠ¨é…ç½®"><a href="#Javaåº”ç”¨çƒ­å¯åŠ¨é…ç½®" class="headerlink" title="Javaåº”ç”¨çƒ­å¯åŠ¨é…ç½®"></a>Javaåº”ç”¨çƒ­å¯åŠ¨é…ç½®</h4><p>æ–¹æ³•1.ä¿®æ”¹ä¹‹åæ‰‹åŠ¨é€‰æ‹© Run-&gt;Reload Changed Classes  ä¸èƒ½è®¾ç½®å¿«æ·é”®</p><p>æ–¹æ³•2.æˆ‘é€‰æ‹©ä½¿ç”¨Jrebelæ’ä»¶ï¼Œå®‰è£…é‡å¯åè¦å¡«æ¿€æ´»ç  (<a href="https://www.jiweichengzhu.com/article/33c0330308f5429faf7a1e74127c9708" target="_blank" rel="noopener">è¿™é‡Œæœ‰äººæå¥½äº†ï¼Œæ‹¿æ¥ç”¨^&amp;^</a> ) ä½¿ç”¨çš„æ—¶å€™åŸæ¥æ˜¯ç‚¹runæˆ–è€…debug runï¼Œç°åœ¨ç‚¹æ—è¾¹ä¸¤ä¸ªå¸¦jrebelçš„runå’Œdebug runå³å¯</p><p><img src="/images/pasted-15.png" alt="upload successful"></p><p>ä¿®æ”¹ä»£ç å ctrl+F9 å¿«é€Ÿç¼–è¯‘å°±èƒ½æŸ¥çœ‹æ•ˆæœï¼Œç›¸å½“äºç»™æ–¹æ³•1åŠ äº†å¿«æ·é”®</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;é…ç½®Tomcat&quot;&gt;&lt;a href=&quot;#é…ç½®Tomcat&quot; class=&quot;headerlink&quot; title=&quot;é…ç½®Tomcat&quot;&gt;&lt;/a&gt;é…ç½®Tomcat&lt;/h4&gt;&lt;p&gt;Run-&amp;gt;Edit Configurations-&amp;gt;Telplatesä¸­é…ç½®ååœ¨
      
    
    </summary>
    
      <category term="IDEA" scheme="http://yoursite.com/categories/IDEA/"/>
    
    
      <category term="IDEA" scheme="http://yoursite.com/tags/IDEA/"/>
    
  </entry>
  
  <entry>
    <title>çŸ¥è¯†ç‚¹å¤ä¹ </title>
    <link href="http://yoursite.com/2019/07/09/%E7%9F%A5%E8%AF%86%E7%82%B9%E5%A4%8D%E4%B9%A0/"/>
    <id>http://yoursite.com/2019/07/09/çŸ¥è¯†ç‚¹å¤ä¹ /</id>
    <published>2019-07-09T07:49:00.000Z</published>
    <updated>2019-07-17T10:36:53.087Z</updated>
    
    <content type="html"><![CDATA[<p>æ•´ç†ä¸€äº›åœ¨çœ‹é¡¹ç›®æ—¶å€™é‡åˆ°çš„å°çš„çŸ¥è¯†ç‚¹ï¼Œå…ˆå†™ä¸ªå¤§æ¦‚ï¼Œåç»­å†åšè¯¦ç»†çš„è¡¥å……</p><h4 id="HTTPå’ŒTCP"><a href="#HTTPå’ŒTCP" class="headerlink" title="HTTPå’ŒTCP"></a>HTTPå’ŒTCP</h4><p>Httpæ˜¯åœ¨Tcpçš„åŸºç¡€ä¹‹ä¸Šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´Httpçš„è¯·æ±‚å’Œç›¸åº”æ˜¯åœ¨å»ºç«‹Tcpé“¾æ¥ä¹‹åå‘ç”Ÿçš„</p><h4 id="å¹‚ç­‰æ€§"><a href="#å¹‚ç­‰æ€§" class="headerlink" title="å¹‚ç­‰æ€§"></a>å¹‚ç­‰æ€§</h4><p>ä¸€æ¬¡æˆ–è€…å¤šæ¬¡è¯·æ±‚åŒä¸€ä¸ªèµ„æºå¾—åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œå¤šæ¬¡è¯·æ±‚ä¸ä¼šå½±å“æœ€ç»ˆçš„ç»“æœã€‚ï¼ˆå¢åŠ å»é‡çš„é€»è¾‘åˆ™æ— éœ€æ»¡è¶³å¹‚ç­‰æ€§ï¼‰</p><h4 id="synchronized-å…³é”®å­—"><a href="#synchronized-å…³é”®å­—" class="headerlink" title="synchronized å…³é”®å­—"></a>synchronized å…³é”®å­—</h4><ul><li>åœ¨æ–¹æ³•ä¸­é”ä½çš„æ˜¯è¯¥ç±»çš„å®ä¾‹å¯¹è±¡</li><li>åœ¨é™æ€æ–¹æ³•ä¸­é”ä½çš„æ˜¯ç±»å¯¹è±¡</li><li>ä»£ç å—ä¸­ï¼ˆthisï¼‰é”ä½çš„æ˜¯è¯¥ç±»çš„å®ä¾‹å¯¹è±¡</li><li>ä»£ç å—ä¸­ï¼ˆxxx.classï¼‰é”ä½çš„æ˜¯ç±»å¯¹è±¡</li></ul><h4 id="volatile"><a href="#volatile" class="headerlink" title="volatile"></a>volatile</h4><p>ä¿è¯çº¿ç¨‹æ•°æ®å¯è§</p><h4 id="transient-å…³é”®å­—"><a href="#transient-å…³é”®å­—" class="headerlink" title="transient å…³é”®å­—"></a>transient å…³é”®å­—</h4><p>ä¸åšåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œ</p><h4 id="synchronizedåœ¨æ–¹æ³•ä¸­å£°åä¸ºä»€ä¹ˆè¿˜ç”¨çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„æ¥å­˜æ”¾å˜é‡"><a href="#synchronizedåœ¨æ–¹æ³•ä¸­å£°åä¸ºä»€ä¹ˆè¿˜ç”¨çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„æ¥å­˜æ”¾å˜é‡" class="headerlink" title="synchronizedåœ¨æ–¹æ³•ä¸­å£°åä¸ºä»€ä¹ˆè¿˜ç”¨çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„æ¥å­˜æ”¾å˜é‡"></a>synchronizedåœ¨æ–¹æ³•ä¸­å£°åä¸ºä»€ä¹ˆè¿˜ç”¨çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„æ¥å­˜æ”¾å˜é‡</h4><p>è¯¥å˜é‡å¯èƒ½åœ¨å…¶ä»–åœ°æ–¹è¢«è°ƒç”¨ï¼Œå¦‚æœè¯¥å˜é‡åªåœ¨synchronizedå…³é”®å­—å£°ååœ¨æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œåˆ™æ— éœ€ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„ã€‚</p><h4 id="TPS-ï¼ˆTransaction-Per-Secondï¼‰"><a href="#TPS-ï¼ˆTransaction-Per-Secondï¼‰" class="headerlink" title="TPS ï¼ˆTransaction Per Secondï¼‰"></a>TPS ï¼ˆTransaction Per Secondï¼‰</h4><p>æœåŠ¡å™¨æ¯ç§’å¤„ç†çš„äº‹åŠ¡ä¸ªæ•°ï¼Œä¸€ä¸ªäº‹åŠ¡æ˜¯ä»å‘æœåŠ¡å™¨å‘é€è¯·æ±‚å¼€å§‹ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°å“åº”ç»“æŸ</p><h4 id="QPS-ï¼ˆQuery-Per-Secondï¼‰"><a href="#QPS-ï¼ˆQuery-Per-Secondï¼‰" class="headerlink" title="QPS  ï¼ˆQuery Per Secondï¼‰"></a>QPS  ï¼ˆQuery Per Secondï¼‰</h4><p>æœåŠ¡å™¨æ¯ç§’å¤„ç†æŸ¥è¯¢çš„æ¬¡æ•°ï¼ŒæŸ¥è¯¢å¼€å§‹åˆ°è¿”å›ç»“æœç»“æŸ</p><h4 id="Gitå…‹éš†åˆ†æ”¯å‘½ä»¤"><a href="#Gitå…‹éš†åˆ†æ”¯å‘½ä»¤" class="headerlink" title="Gitå…‹éš†åˆ†æ”¯å‘½ä»¤"></a>Gitå…‹éš†åˆ†æ”¯å‘½ä»¤</h4><p>git clone -b [åˆ†æ”¯åç§°] [gitåœ°å€]</p><h4 id="Gitæäº¤ä»£ç åˆ°GitHub"><a href="#Gitæäº¤ä»£ç åˆ°GitHub" class="headerlink" title="Gitæäº¤ä»£ç åˆ°GitHub"></a>Gitæäº¤ä»£ç åˆ°GitHub</h4><ul><li>åˆ›å»ºä»“åº“ï¼Œåœ¨æœ¬åœ°clone</li><li>æœ¬åœ°åœ¨.gitæ‰€åœ¨çš„ç›®å½•æ‰“å¼€git bansh</li><li><p>æŒ‡å®šè¿œç¨‹ä»“åº“</p><p><em>git remote add origin <a href="https://github.com/panniyuyu/frameworkdemo.git" target="_blank" rel="noopener">https://github.com/panniyuyu/frameworkdemo.git</a></em></p><ul><li>ä¼šæç¤º remote origin already exists    </li></ul><ul><li><p>æ‰§è¡Œåˆ é™¤å‘½ä»¤åå†é‡æ–°æŒ‡å®šè¿œç¨‹ä»“åº“</p><p><em>git remote rm origin</em></p></li></ul></li><li><p>æ·»åŠ æ–‡ä»¶<br><em>git add </em> *</p></li><li>æäº¤æ”¹åŠ¨<br><em>git commit -m â€œxxxxâ€</em></li><li>æ¨åˆ°è¿œç¨‹ä»“åº“<br><em>git push origin master</em></li></ul><h4 id="wait-æ–¹æ³•"><a href="#wait-æ–¹æ³•" class="headerlink" title="wait()æ–¹æ³•"></a>wait()æ–¹æ³•</h4><ul><li><p>ä¼šæš‚åœå½“å‰çº¿ç¨‹ï¼Œè®©å‡ºCPUæ—¶é—´ï¼ŒåŒæ—¶è®©å‡ºé”ï¼Œç­‰å¾…notify()æˆ–è€…notifyAll()å”¤é†’åé‡æ–°è·å¾—é”æ‰§è¡Œ</p><p><em>sleep()æ–¹æ³•åŒæ ·ä¼šæš‚åœå½“å‰çº¿ç¨‹ï¼Œè®©å‡ºCPUæ—¶é—´ï¼Œä¸ wait()æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œsleep()æ–¹æ³•ä¸ä¼šé‡Šæ”¾é”ï¼Œä¼šé˜»å¡å½“å‰çš„çº¿ç¨‹ï¼Œä¸”sleep()æ˜¯Threadç±»ä¸­çš„æ–¹æ³•, wait()æ˜¯Objectçš„æ–¹æ³•</em></p></li></ul><h4 id="å®ˆæŠ¤çº¿ç¨‹"><a href="#å®ˆæŠ¤çº¿ç¨‹" class="headerlink" title="å®ˆæŠ¤çº¿ç¨‹"></a>å®ˆæŠ¤çº¿ç¨‹</h4><ul><li><p>Javaä¸­ä¼˜å…ˆçº§ä½çš„çº¿ç¨‹ï¼Œç”¨æ¥æœåŠ¡äºç”¨æˆ·çº¿ç¨‹çš„ï¼Œå½“Javaç¨‹åºé€€å‡ºæˆ–è€…jvmé€€å‡ºæ—¶ï¼Œå®ˆæŠ¤çº¿ç¨‹è‡ªåŠ¨é€€å‡ºï¼Œjvmè¿è¡Œæ—¶åªéœ€å…³æ³¨ç”¨æˆ·çº¿ç¨‹å³å¯ã€‚</p><p><em>Jvmä¸­çš„åƒåœ¾æ”¶é›†å™¨å¯ä»¥ç†è§£ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œå½“jvmé€€å‡ºæ—¶ä¼šè‡ªåŠ¨é€€å‡º</em></p><p><em>ä½¿ç”¨ thread.setDaemon(true)è®¾ç½®ï¼Œè¦åœ¨start()æ–¹æ³•ä¹‹å‰</em></p></li></ul><h4 id="Classçš„isAssignableFromæ–¹æ³•"><a href="#Classçš„isAssignableFromæ–¹æ³•" class="headerlink" title="Classçš„isAssignableFromæ–¹æ³•"></a>Classçš„isAssignableFromæ–¹æ³•</h4><ul><li>Classä¸­çš„æ–¹æ³•ï¼Œå¦‚ï¼ša.isAssignableFrom(b) åœ¨aæ˜¯bçš„çˆ¶ç±»æˆ–æ¥å£ï¼Œäº¦æˆ–æ˜¯aã€bæ˜¯åŒä¸€ä¸ªç±»æˆ–è€…æ¥å£çš„æƒ…å†µä¸‹è¿”å›trueï¼Œå…¶ä»–æƒ…å†µè¿”å›false</li></ul><h4 id="Classçš„getFieldså’ŒgetDeclaredFields"><a href="#Classçš„getFieldså’ŒgetDeclaredFields" class="headerlink" title="Classçš„getFieldså’ŒgetDeclaredFields"></a>Classçš„getFieldså’ŒgetDeclaredFields</h4><ul><li>éƒ½æ˜¯è·å–ç±»ä¸­çš„å­—æ®µï¼ŒgetFieldsè·å–ç±»ä¸­publicçš„å­—æ®µï¼ŒgetDeclaredFieldsè·å–ç±»ä¸­æ‰€æœ‰å£°åçš„å­—æ®µï¼Œä¸åŒ…å«çˆ¶ç±»ä¸­çš„å­—æ®µ</li></ul><h4 id="Fieldçš„getModifiers"><a href="#Fieldçš„getModifiers" class="headerlink" title="Fieldçš„getModifiers"></a>Fieldçš„getModifiers</h4><ul><li>è·å–å­—æ®µçš„ä¿®é¥°ç¬¦ï¼Œè¿”å›å€¼ä¸ºintå‹å¯¹åº”ä¸åŒçš„ç±»å‹</li><li>PUBLIC: 1</li><li>PRIVATE: 2</li><li>PROTECTED: 4</li><li>STATIC: 8</li><li>FINAL: 16</li><li>SYNCHRONIZED: 32</li><li>VOLATILE: 64</li><li>TRANSIENT: 128</li><li>NATIVE: 256</li><li>INTERFACE: 512</li><li>ABSTRACT: 1024</li><li>STRICT: 2048</li></ul><h4 id="Fieldçš„setAccessible-true"><a href="#Fieldçš„setAccessible-true" class="headerlink" title="Fieldçš„setAccessible(true)"></a>Fieldçš„setAccessible(true)</h4><ul><li>å­—æ®µè¢«å£°åæ˜¯ç§æœ‰çš„ï¼Œåœ¨å–å€¼å‰å¿…é¡»è®¾ç½®accessibleä¸ºtrueï¼Œä¸ç„¶ä¼šæŠ¥é”™</li></ul><h4 id="fieldçš„getGenericTypeå’ŒgetType"><a href="#fieldçš„getGenericTypeå’ŒgetType" class="headerlink" title="fieldçš„getGenericTypeå’ŒgetType"></a>fieldçš„getGenericTypeå’ŒgetType</h4><ul><li>éƒ½æ˜¯è·å–å­—æ®µçš„ç±»å‹ï¼ŒgetGenericTypeè¿”å›çš„æ˜¯Typeç±»å‹ï¼ŒgetTypeè¿”å›çš„æ˜¯Classç±»å‹</li><li>è¿˜æœ‰å…¶ä»–ä¸åŒï¼Œæš‚æ—¶æ²¡æœ‰ç†è§£<a href="http://www.51gjie.com/java/793.html" target="_blank" rel="noopener">http://www.51gjie.com/java/793.html</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ•´ç†ä¸€äº›åœ¨çœ‹é¡¹ç›®æ—¶å€™é‡åˆ°çš„å°çš„çŸ¥è¯†ç‚¹ï¼Œå…ˆå†™ä¸ªå¤§æ¦‚ï¼Œåç»­å†åšè¯¦ç»†çš„è¡¥å……&lt;/p&gt;
&lt;h4 id=&quot;HTTPå’ŒTCP&quot;&gt;&lt;a href=&quot;#HTTPå’ŒTCP&quot; class=&quot;headerlink&quot; title=&quot;HTTPå’ŒTCP&quot;&gt;&lt;/a&gt;HTTPå’ŒTCP&lt;/h4&gt;&lt;p&gt;Http
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ç¬¬ä¸€ç¯‡åšå®¢</title>
    <link href="http://yoursite.com/2019/05/11/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2019/05/11/ç¬¬ä¸€ç¯‡åšå®¢/</id>
    <published>2019-05-11T09:26:16.000Z</published>
    <updated>2019-05-11T13:34:40.425Z</updated>
    
    <content type="html"><![CDATA[<p>æ—¶å…‰åŒ†åŒ†ï¼Œä¸‰å¹´çš„ç ”ç©¶ç”Ÿç”Ÿæ¶¯é©¬ä¸Šå°±è¦ç»“æŸã€‚è¿™æ˜¯æˆ‘æ¯•ä¸šè®ºæ–‡è‡´è°¢é‡Œçš„ç¬¬ä¸€å¥è¯ï¼Œè™½ç„¶å¾ˆè€å¥—ä½†æ˜¯éå¸¸åº”æ™¯ï¼Œåœ¨æ¯•ä¸šä¹‹å‰çš„è¿™æ®µæ—¶é—´æ²¡æœ‰é‚£ä¹ˆå¤šçš„äº‹æƒ…ï¼Œçªç„¶æƒ³åˆ°åšä¸€ä¸ªè‡ªå·±çš„åšå®¢ï¼ŒæŠŠè‡ªå·±çš„å­¦ä¹ å’Œç”Ÿæ´»è®°å½•ä¸‹æ¥ï¼Œä¸ç”¨æ¯æ¬¡é‡åˆ°é—®é¢˜çš„æ—¶å€™å†å»é—®åº¦å¨˜ï¼Œè€Œä¸”å¾ˆå¤šéƒ½æ˜¯é‡å¤çš„é—®é¢˜ï¼Œè™½ç„¶è‡ªå·±ä¹Ÿåœ¨åšç¬”è®°ä½†å¾ˆå°‘å›å¤´çœ‹ï¼Œæ‰“ç®—ä»¥å‰çš„ç¬”è®°ä¸å†ç®¡äº†ï¼Œå½“åˆä¸ºäº†å›¾çœäº‹å†™çš„éå¸¸ç®€å•æœ‰äº›å·²ç»æƒ³ä¸èµ·æ¥æ˜¯åšä»€ä¹ˆçš„äº†ï¼Œç°åœ¨æƒ³æƒ³éå¸¸æ‡Šæ‚”ï¼Œè¿™ä¸ªåæ¯›ç—…ä¸€å®šè¦æ”¹ã€‚ä»Šæ—¥åœ¨æˆ‘çš„åšå®¢æ­å»ºå®Œæˆä¹‹é™…ï¼Œå¼€å§‹å°†ä»Šåæ‰€å­¦ä¹ çš„æŠ€æœ¯è®°å½•åœ¨æ­¤ï¼Œæ²‰æ·€ä¸‹å»ï¼Œå’Œå¤§å®¶åšäº¤æµï¼ŒåŒæ—¶ï¼Œåœ¨æ­¤ä¹Ÿå°†è®°å½•æˆ‘çš„ç”Ÿæ´»ï¼Œæœ‰è¶£çš„æ‰€è§æ‰€é—»ä»€ä¹ˆçš„ï¼Œæœ‹å‹åœˆå‘çš„é¢‘ç¹é­äººåŒã€‚<br>é©¬ä¸Šå°±è¦å…¥èŒäº†ï¼Œå¿ƒé‡ŒçŸ¥é“è¦å›å½’åˆ°å·¥ç¨‹ä¸­äº†ï¼Œä¸ç„¶å…¥èŒåçš„å‹åŠ›ä¼šå¾ˆå¤§ï¼Œä½†æ˜¯ä¹Ÿä¸çŸ¥é“è‡ªå·±å·¥ä½œå†…å®¹æ˜¯ä»€ä¹ˆï¼Œæµè§ˆäº†ä¸€äº›åšå®¢å‘ç°éœ€è¦å­¦ä¹ çš„ä¸œè¥¿å®åœ¨æ˜¯å¤ªå¤šäº†æ— ä»ä¸‹æ‰‹ï¼Œè€Œä¸”å°±æˆ‘è‡ªå·±è€Œè¨€æ²¡æœ‰åœ¨å·¥ç¨‹ä¸­åº”ç”¨è¿‡çš„æŠ€æœ¯å³ä½¿ç†è§£äº†æœ€åä¹Ÿä¼šå¿˜æ‰ï¼Œæ‰€ä»¥å­¦ä¹ çš„æƒ…ç»ªå¾ˆdownï¼Œæƒ³æ‰¾ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿æä¸€ä¸‹ï¼Œäºæ˜¯æœ¬ç«™è¯ç”Ÿäº†ã€‚<br>emmmâ€¦â€¦ç¬¬ä¸€ç¯‡åšå®¢å°±åˆ°è¿™äº†ï¼Œè‡ªå·±å°å­¦è¯­æ–‡æ°´å¹³åªèƒ½å†™åˆ°è¿™äº†ï¼Œç»™è‡ªå·±åŠ æ²¹ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ—¶å…‰åŒ†åŒ†ï¼Œä¸‰å¹´çš„ç ”ç©¶ç”Ÿç”Ÿæ¶¯é©¬ä¸Šå°±è¦ç»“æŸã€‚è¿™æ˜¯æˆ‘æ¯•ä¸šè®ºæ–‡è‡´è°¢é‡Œçš„ç¬¬ä¸€å¥è¯ï¼Œè™½ç„¶å¾ˆè€å¥—ä½†æ˜¯éå¸¸åº”æ™¯ï¼Œåœ¨æ¯•ä¸šä¹‹å‰çš„è¿™æ®µæ—¶é—´æ²¡æœ‰é‚£ä¹ˆå¤šçš„äº‹æƒ…ï¼Œçªç„¶æƒ³åˆ°åšä¸€ä¸ªè‡ªå·±çš„åšå®¢ï¼ŒæŠŠè‡ªå·±çš„å­¦ä¹ å’Œç”Ÿæ´»è®°å½•ä¸‹æ¥ï¼Œä¸ç”¨æ¯æ¬¡é‡åˆ°é—®é¢˜çš„æ—¶å€™å†å»é—®åº¦å¨˜ï¼Œè€Œä¸”å¾ˆå¤šéƒ½æ˜¯é‡å¤çš„é—®é¢˜ï¼Œè™½ç„¶è‡ªå·±ä¹Ÿåœ¨åšç¬”è®°ä½†å¾ˆå°‘å›å¤´
      
    
    </summary>
    
      <category term="ç”Ÿæ´»æ‚è°ˆ" scheme="http://yoursite.com/categories/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%B0%88/"/>
    
    
      <category term="ç”Ÿæ´»æ‚è°ˆ" scheme="http://yoursite.com/tags/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%B0%88/"/>
    
  </entry>
  
</feed>
